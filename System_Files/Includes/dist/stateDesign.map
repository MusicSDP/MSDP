{"version":3,"sources":["node_modules/dmg/index.js","node_modules/uuid/lib/rng.js","node_modules/uuid/lib/bytesToUuid.js","node_modules/uuid/v1.js","node_modules/axios/lib/helpers/bind.js","node_modules/is-buffer/index.js","node_modules/axios/lib/utils.js","node_modules/axios/lib/helpers/normalizeHeaderName.js","node_modules/axios/lib/core/enhanceError.js","node_modules/axios/lib/core/createError.js","node_modules/axios/lib/core/settle.js","node_modules/axios/lib/helpers/buildURL.js","node_modules/axios/lib/helpers/parseHeaders.js","node_modules/axios/lib/helpers/isURLSameOrigin.js","node_modules/axios/lib/helpers/btoa.js","node_modules/axios/lib/helpers/cookies.js","node_modules/axios/lib/adapters/xhr.js","node_modules/ms/index.js","node_modules/debug/src/debug.js","node_modules/debug/src/browser.js","node_modules/debug/src/node.js","node_modules/debug/src/index.js","node_modules/follow-redirects/index.js","0","node_modules/axios/lib/adapters/http.js","node_modules/axios/lib/defaults.js","node_modules/axios/lib/core/InterceptorManager.js","node_modules/axios/lib/core/transformData.js","node_modules/axios/lib/cancel/isCancel.js","node_modules/axios/lib/helpers/isAbsoluteURL.js","node_modules/axios/lib/helpers/combineURLs.js","node_modules/axios/lib/core/dispatchRequest.js","node_modules/axios/lib/core/Axios.js","node_modules/axios/lib/cancel/Cancel.js","node_modules/axios/lib/cancel/CancelToken.js","node_modules/axios/lib/helpers/spread.js","node_modules/axios/lib/axios.js","node_modules/axios/index.js","node_modules/adm-zip/util/fileSystem.js","node_modules/adm-zip/util/constants.js","node_modules/adm-zip/util/errors.js","node_modules/adm-zip/util/utils.js","node_modules/adm-zip/util/fattr.js","node_modules/adm-zip/util/index.js","node_modules/adm-zip/headers/entryHeader.js","node_modules/adm-zip/headers/mainHeader.js","node_modules/adm-zip/headers/index.js","node_modules/adm-zip/methods/deflater.js","node_modules/adm-zip/methods/inflater.js","node_modules/adm-zip/methods/index.js","node_modules/adm-zip/zipEntry.js","node_modules/adm-zip/zipFile.js","node_modules/adm-zip/adm-zip.js","stateDesign.js"],"names":["url","require","http","https","assert","Writable","debug","SAFE_METHODS","GET","HEAD","OPTIONS","TRACE","eventHandlers","Object","create","RedirectableRequest","options","responseCallback","call","headers","_options","_redirectCount","_redirects","_requestBodyLength","_requestBodyBuffers","host","hostname","on","self","_onNativeResponse","response","_processResponse","pathname","path","searchPos","indexOf","substring","search","_performRequest","wrap","protocols","exports","maxRedirects","maxBodyLength","nativeProtocols","keys","forEach","scheme","protocol","nativeProtocol","wrappedProtocol","request","callback","parse","assign","equal","get","end","event","arg","_redirectable","emit","prototype","write","data","encoding","Error","length","push","_currentRequest","abort","currentRequest","setHeader","name","value","removeHeader","method","a","b","property","defineProperty","agents","substr","agent","_currentUrl","format","_isRedirect","i","buffers","writeNext","buffer","trackRedirects","statusCode","location","followRedirects","header","test","redirectUrl","resolve","destroy","responseUrl","redirects","module","_from","_id","_inBundle","_integrity","_location","_phantomChildren","_requested","type","registry","raw","escapedName","rawSpec","saveSpec","fetchSpec","_requiredBy","_resolved","_shasum","_spec","_where","author","browser","./lib/adapters/http.js","bugs","bundleDependencies","bundlesize","threshold","dependencies","follow-redirects","is-buffer","deprecated","description","devDependencies","coveralls","es6-promise","grunt","grunt-banner","grunt-cli","grunt-contrib-clean","grunt-contrib-nodeunit","grunt-contrib-watch","grunt-eslint","grunt-karma","grunt-ts","grunt-webpack","istanbul-instrumenter-loader","jasmine-core","karma","karma-chrome-launcher","karma-coverage","karma-firefox-launcher","karma-jasmine","karma-jasmine-ajax","karma-opera-launcher","karma-safari-launcher","karma-sauce-launcher","karma-sinon","karma-sourcemap-loader","karma-webpack","load-grunt-tasks","minimist","sinon","typescript","url-search-params","webpack","webpack-dev-server","homepage","keywords","license","main","repository","scripts","build","examples","postversion","preversion","start","version","typings","fs","process","versions","originalFs","e","LOCHDR","LOCSIG","LOCVER","LOCFLG","LOCHOW","LOCTIM","LOCCRC","LOCSIZ","LOCLEN","LOCNAM","LOCEXT","EXTSIG","EXTHDR","EXTCRC","EXTSIZ","EXTLEN","CENHDR","CENSIG","CENVEM","CENVER","CENFLG","CENHOW","CENTIM","CENCRC","CENSIZ","CENLEN","CENNAM","CENEXT","CENCOM","CENDSK","CENATT","CENATX","CENOFF","ENDHDR","ENDSIG","ENDSUB","ENDTOT","ENDSIZ","ENDOFF","ENDCOM","STORED","SHRUNK","REDUCED1","REDUCED2","REDUCED3","REDUCED4","IMPLODED","DEFLATED","ENHANCED_DEFLATED","PKWARE","BZIP2","LZMA","IBM_TERSE","IBM_LZ77","FLG_ENC","FLG_COMP1","FLG_COMP2","FLG_DESC","FLG_ENH","FLG_STR","FLG_LNG","FLG_MSK","FILE","BUFFER","NONE","EF_ID","EF_SIZE","ID_ZIP64","ID_AVINFO","ID_PFS","ID_OS2","ID_NTFS","ID_OPENVMS","ID_UNIX","ID_FORK","ID_PATCH","ID_X509_PKCS7","ID_X509_CERTID_F","ID_X509_CERTID_C","ID_STRONGENC","ID_RECORD_MGT","ID_X509_PKCS7_RL","ID_IBM1","ID_IBM2","ID_POSZIP","EF_ZIP64_OR_32","EF_ZIP64_OR_16","EF_ZIP64_SUNCOMP","EF_ZIP64_SCOMP","EF_ZIP64_RHO","EF_ZIP64_DSN","pth","existsSync","crcTable","Constants","Errors","PATH_SEPARATOR","sep","mkdirSync","resolvedPath","split","stat","statSync","isFile","FILE_IN_THE_WAY","replace","makeDir","crc32","buf","Buffer","alloc","n","c","k","writeInt32LE","readUInt32LE","crc","off","len","c1","methodToString","writeFileTo","content","overwrite","attr","isDirectory","folder","fd","dirname","openSync","chmodSync","writeSync","closeSync","writeFileToAsync","undefined","exists","err","open","chmod","close","findFiles","findSync","dir","pattern","recoursive","files","readdirSync","file","join","concat","normalize","getAttributes","setAttributes","toBuffer","input","isBuffer","from","_path","_obj","directory","readonly","hidden","executable","mtime","atime","_stat","parseInt","mode","toString","basename","console","warn","readOnly","decodeAttributes","val","encodeAttributes","FileSystem","FileAttr","Utils","_verMade","_version","_flags","_method","_time","_crc","_compressedSize","_size","_fnameLen","_extraLen","_comLen","_diskStart","_inattr","_attr","_offset","_dataHeader","setTime","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","made","flags","time","compressedSize","size","fileNameLength","extraLength","commentLength","diskNumStart","inAttr","offset","encripted","entryHeaderSize","realDataOffset","fnameLen","extraLen","dataHeader","loadDataHeaderFromBinary","slice","INVALID_LOC","readUInt16LE","loadFromBinary","INVALID_CEN","dataHeaderToBinary","writeUInt32LE","writeUInt16LE","entryHeaderToBinary","fill","toUpperCase","_volumeEntries","_totalEntries","_commentLength","diskEntries","totalEntries","mainHeaderSize","INVALID_END","toBinary","EntryHeader","MainHeader","inbuf","zlib","opts","chunkSize","deflate","deflateRawSync","deflateAsync","tmp","createDeflateRaw","parts","total","written","part","copy","inflate","inflateRawSync","inflateAsync","createInflateRaw","Deflater","Inflater","Headers","Methods","_entryHeader","_entryName","_comment","_isDirectory","uncompressedData","_extra","getCompressedDataFromZip","crc32OK","decompress","async","pass","DIRECTORY_CONTENT_ERROR","compressedData","NO_DATA","BAD_CRC","inflater","result","UNKNOWN_METHOD","compress","deflater","deflated","readUInt64LE","parseZip64ExtendedInformation","entryName","rawEntryName","lastChar","extra","parseExtra","signature","comment","pop","getCompressedData","getCompressedDataAsync","setData","changed","getData","getDataAsync","packHeader","ZipEntry","inputType","entryList","entryTable","filename","inBuffer","mainHeader","readMainHeader","Math","max","endOffset","INVALID_FORMAT","readEntries","Array","index","entry","readFileSync","entries","getEntry","setEntry","deleteEntry","_self","getEntryChildren","child","splice","list","zipEntry","compressToBuffer","sort","nameA","toLowerCase","nameB","totalSize","dataBlock","entryHeaders","dindex","entryNameLen","postHeader","dataLength","entryHeader","outBuffer","mh","toAsyncBuffer","onSuccess","onFail","onItemStart","onItemEnd","arguments","callee","ZipFile","isWin","platform","_zip","_filename","INVALID_FILENAME","sanitize","prefix","l","item","readFile","readFileAsync","readAsText","readAsTextAsync","deleteFile","addZipComment","getZipComment","addZipEntryComment","getZipEntryComment","updateFile","addLocalFile","localPath","zipPath","zipName","FILE_NOT_FOUND","charAt","p","addFile","addLocalFolder","filter","RegExp","items","getEntries","extractEntryTo","targetPath","maintainEntryPath","NO_ENTRY","target","CANT_EXTRACT_FILE","childName","CANT_OVERRIDE","extractAllTo","NO_ZIP","utimesSync","extractAllToAsync","succ","writeZip","targetFileName","zipData","ok","valueOf","dmg","uuidv1","axios","AdmZip","os","log","output","Max","post","defaultSystem","state","system","project","session","addHandler","v","v2","add","remove","v3","v4","v5","update","loc","dest","dest2","getFromMax","importer","v1","exporter","title","newProject","loadProject","JSON","stringify","map","outlet","updateCheck","dlpath","updateDL","startUpdate","ppid","localVersion","appState","major","minor","revision","updateSet","autoUpdate","updater","trim","error","res","responseType","downloader","killApplication","installerName","mount","exec","Promise","setTimeout","updateLauncher","created","settings","defaultSettings","openBoards","savedBoards","sessionBoards","boardPointers","bigRandStr","proto","hasOwnProperty","modules","assets","asset","eval","getOwnPropertyDescriptor","i2","clone","removeList","m","saved","cloneModules","id","lastIndexOf","systemBoard","savedBoardList","openBoardList","uName","key","isEmpty","lastUpdated","writeFileSync","unlinkSync","renameSync","dev","msdp","lastOpened","floor","random","obj"],"mappings":"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","file":"stateDesign.map","sourceRoot":"..","sourcesContent":["var exec = require('child_process').exec;\nvar VOLUME_REGEX = /\\/Volumes\\/(.*)/m;\n\n/**\n * Mount a dmg file and return its mounted path.\n *\n * @param {String} path location of .dmg.\n * @param {Function} callback [Error err, String mountedVolume].\n */\nfunction mount(path, callback) {\n  var command = [\n    'hdiutil',\n    'mount',\n    '-nobrowse',\n    '\"' + path + '\"'\n  ];\n\n  exec(command.join(' '), function(err, stdout, stderr) {\n    if (err) return callback(err);\n\n    // extract volume path\n    var match = stdout.match(VOLUME_REGEX);\n\n    if (!match) {\n      return callback(\n        new Error('could not extract path out of mount result: ' + stdout)\n      );\n    }\n\n    callback(null, match[0]);\n  });\n}\n\n/**\n * Unmount a dmg volume.\n *\n * @param {String} path to unmount.\n * @param {Function} callback [Error err]\n */\nfunction unmount(path, callback) {\n  if (!VOLUME_REGEX.test(path))\n    throw new Error('path must contain /Volumes/');\n\n  var command = [\n    'hdiutil',\n    'unmount',\n    '\"' + path + '\"'\n  ];\n\n  exec(command.join(' '), function(err) {\n    if (err) return callback(err);\n    callback();\n  });\n}\n\nmodule.exports.mount = mount;\nmodule.exports.unmount = unmount;\n","// Unique ID creation requires a high quality random # generator.  In node.js\r\n// this is pretty straight-forward - we use the crypto API.\r\n\r\nvar crypto = require('crypto');\r\n\r\nmodule.exports = function nodeRNG() {\r\n  return crypto.randomBytes(16);\r\n};\r\n","/**\r\n * Convert array of 16 byte values to UUID string format of the form:\r\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\r\n */\r\nvar byteToHex = [];\r\nfor (var i = 0; i < 256; ++i) {\r\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\r\n}\r\n\r\nfunction bytesToUuid(buf, offset) {\r\n  var i = offset || 0;\r\n  var bth = byteToHex;\r\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\r\n  return ([bth[buf[i++]], bth[buf[i++]], \r\n\tbth[buf[i++]], bth[buf[i++]], '-',\r\n\tbth[buf[i++]], bth[buf[i++]], '-',\r\n\tbth[buf[i++]], bth[buf[i++]], '-',\r\n\tbth[buf[i++]], bth[buf[i++]], '-',\r\n\tbth[buf[i++]], bth[buf[i++]],\r\n\tbth[buf[i++]], bth[buf[i++]],\r\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\r\n}\r\n\r\nmodule.exports = bytesToUuid;\r\n","var rng = require('./lib/rng');\r\nvar bytesToUuid = require('./lib/bytesToUuid');\r\n\r\n// **`v1()` - Generate time-based UUID**\r\n//\r\n// Inspired by https://github.com/LiosK/UUID.js\r\n// and http://docs.python.org/library/uuid.html\r\n\r\nvar _nodeId;\r\nvar _clockseq;\r\n\r\n// Previous uuid creation time\r\nvar _lastMSecs = 0;\r\nvar _lastNSecs = 0;\r\n\r\n// See https://github.com/broofa/node-uuid for API details\r\nfunction v1(options, buf, offset) {\r\n  var i = buf && offset || 0;\r\n  var b = buf || [];\r\n\r\n  options = options || {};\r\n  var node = options.node || _nodeId;\r\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\r\n\r\n  // node and clockseq need to be initialized to random values if they're not\r\n  // specified.  We do this lazily to minimize issues related to insufficient\r\n  // system entropy.  See #189\r\n  if (node == null || clockseq == null) {\r\n    var seedBytes = rng();\r\n    if (node == null) {\r\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\r\n      node = _nodeId = [\r\n        seedBytes[0] | 0x01,\r\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\r\n      ];\r\n    }\r\n    if (clockseq == null) {\r\n      // Per 4.2.2, randomize (14 bit) clockseq\r\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\r\n    }\r\n  }\r\n\r\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\r\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\r\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\r\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\r\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\r\n\r\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\r\n  // cycle to simulate higher resolution clock\r\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\r\n\r\n  // Time since last uuid creation (in msecs)\r\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\r\n\r\n  // Per 4.2.1.2, Bump clockseq on clock regression\r\n  if (dt < 0 && options.clockseq === undefined) {\r\n    clockseq = clockseq + 1 & 0x3fff;\r\n  }\r\n\r\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\r\n  // time interval\r\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\r\n    nsecs = 0;\r\n  }\r\n\r\n  // Per 4.2.1.2 Throw error if too many uuids are requested\r\n  if (nsecs >= 10000) {\r\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\r\n  }\r\n\r\n  _lastMSecs = msecs;\r\n  _lastNSecs = nsecs;\r\n  _clockseq = clockseq;\r\n\r\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\r\n  msecs += 12219292800000;\r\n\r\n  // `time_low`\r\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\r\n  b[i++] = tl >>> 24 & 0xff;\r\n  b[i++] = tl >>> 16 & 0xff;\r\n  b[i++] = tl >>> 8 & 0xff;\r\n  b[i++] = tl & 0xff;\r\n\r\n  // `time_mid`\r\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\r\n  b[i++] = tmh >>> 8 & 0xff;\r\n  b[i++] = tmh & 0xff;\r\n\r\n  // `time_high_and_version`\r\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\r\n  b[i++] = tmh >>> 16 & 0xff;\r\n\r\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\r\n  b[i++] = clockseq >>> 8 | 0x80;\r\n\r\n  // `clock_seq_low`\r\n  b[i++] = clockseq & 0xff;\r\n\r\n  // `node`\r\n  for (var n = 0; n < 6; ++n) {\r\n    b[i + n] = node[n];\r\n  }\r\n\r\n  return buf ? buf : bytesToUuid(b);\r\n}\r\n\r\nmodule.exports = v1;\r\n","'use strict';\r\n\r\nmodule.exports = function bind(fn, thisArg) {\r\n  return function wrap() {\r\n    var args = new Array(arguments.length);\r\n    for (var i = 0; i < args.length; i++) {\r\n      args[i] = arguments[i];\r\n    }\r\n    return fn.apply(thisArg, args);\r\n  };\r\n};\r\n","/*!\r\n * Determine if an object is a Buffer\r\n *\r\n * @author   Feross Aboukhadijeh <https://feross.org>\r\n * @license  MIT\r\n */\r\n\r\n// The _isBuffer check is for Safari 5-7 support, because it's missing\r\n// Object.prototype.constructor. Remove this eventually\r\nmodule.exports = function (obj) {\r\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\r\n}\r\n\r\nfunction isBuffer (obj) {\r\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\r\n}\r\n\r\n// For Node v0.10 support. Remove this eventually.\r\nfunction isSlowBuffer (obj) {\r\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\r\n}\r\n","'use strict';\r\n\r\nvar bind = require('./helpers/bind');\r\nvar isBuffer = require('is-buffer');\r\n\r\n/*global toString:true*/\r\n\r\n// utils is a library of generic helper functions non-specific to axios\r\n\r\nvar toString = Object.prototype.toString;\r\n\r\n/**\r\n * Determine if a value is an Array\r\n *\r\n * @param {Object} val The value to test\r\n * @returns {boolean} True if value is an Array, otherwise false\r\n */\r\nfunction isArray(val) {\r\n  return toString.call(val) === '[object Array]';\r\n}\r\n\r\n/**\r\n * Determine if a value is an ArrayBuffer\r\n *\r\n * @param {Object} val The value to test\r\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\r\n */\r\nfunction isArrayBuffer(val) {\r\n  return toString.call(val) === '[object ArrayBuffer]';\r\n}\r\n\r\n/**\r\n * Determine if a value is a FormData\r\n *\r\n * @param {Object} val The value to test\r\n * @returns {boolean} True if value is an FormData, otherwise false\r\n */\r\nfunction isFormData(val) {\r\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\r\n}\r\n\r\n/**\r\n * Determine if a value is a view on an ArrayBuffer\r\n *\r\n * @param {Object} val The value to test\r\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\r\n */\r\nfunction isArrayBufferView(val) {\r\n  var result;\r\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\r\n    result = ArrayBuffer.isView(val);\r\n  } else {\r\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\r\n  }\r\n  return result;\r\n}\r\n\r\n/**\r\n * Determine if a value is a String\r\n *\r\n * @param {Object} val The value to test\r\n * @returns {boolean} True if value is a String, otherwise false\r\n */\r\nfunction isString(val) {\r\n  return typeof val === 'string';\r\n}\r\n\r\n/**\r\n * Determine if a value is a Number\r\n *\r\n * @param {Object} val The value to test\r\n * @returns {boolean} True if value is a Number, otherwise false\r\n */\r\nfunction isNumber(val) {\r\n  return typeof val === 'number';\r\n}\r\n\r\n/**\r\n * Determine if a value is undefined\r\n *\r\n * @param {Object} val The value to test\r\n * @returns {boolean} True if the value is undefined, otherwise false\r\n */\r\nfunction isUndefined(val) {\r\n  return typeof val === 'undefined';\r\n}\r\n\r\n/**\r\n * Determine if a value is an Object\r\n *\r\n * @param {Object} val The value to test\r\n * @returns {boolean} True if value is an Object, otherwise false\r\n */\r\nfunction isObject(val) {\r\n  return val !== null && typeof val === 'object';\r\n}\r\n\r\n/**\r\n * Determine if a value is a Date\r\n *\r\n * @param {Object} val The value to test\r\n * @returns {boolean} True if value is a Date, otherwise false\r\n */\r\nfunction isDate(val) {\r\n  return toString.call(val) === '[object Date]';\r\n}\r\n\r\n/**\r\n * Determine if a value is a File\r\n *\r\n * @param {Object} val The value to test\r\n * @returns {boolean} True if value is a File, otherwise false\r\n */\r\nfunction isFile(val) {\r\n  return toString.call(val) === '[object File]';\r\n}\r\n\r\n/**\r\n * Determine if a value is a Blob\r\n *\r\n * @param {Object} val The value to test\r\n * @returns {boolean} True if value is a Blob, otherwise false\r\n */\r\nfunction isBlob(val) {\r\n  return toString.call(val) === '[object Blob]';\r\n}\r\n\r\n/**\r\n * Determine if a value is a Function\r\n *\r\n * @param {Object} val The value to test\r\n * @returns {boolean} True if value is a Function, otherwise false\r\n */\r\nfunction isFunction(val) {\r\n  return toString.call(val) === '[object Function]';\r\n}\r\n\r\n/**\r\n * Determine if a value is a Stream\r\n *\r\n * @param {Object} val The value to test\r\n * @returns {boolean} True if value is a Stream, otherwise false\r\n */\r\nfunction isStream(val) {\r\n  return isObject(val) && isFunction(val.pipe);\r\n}\r\n\r\n/**\r\n * Determine if a value is a URLSearchParams object\r\n *\r\n * @param {Object} val The value to test\r\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\r\n */\r\nfunction isURLSearchParams(val) {\r\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\r\n}\r\n\r\n/**\r\n * Trim excess whitespace off the beginning and end of a string\r\n *\r\n * @param {String} str The String to trim\r\n * @returns {String} The String freed of excess whitespace\r\n */\r\nfunction trim(str) {\r\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\r\n}\r\n\r\n/**\r\n * Determine if we're running in a standard browser environment\r\n *\r\n * This allows axios to run in a web worker, and react-native.\r\n * Both environments support XMLHttpRequest, but not fully standard globals.\r\n *\r\n * web workers:\r\n *  typeof window -> undefined\r\n *  typeof document -> undefined\r\n *\r\n * react-native:\r\n *  navigator.product -> 'ReactNative'\r\n */\r\nfunction isStandardBrowserEnv() {\r\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\r\n    return false;\r\n  }\r\n  return (\r\n    typeof window !== 'undefined' &&\r\n    typeof document !== 'undefined'\r\n  );\r\n}\r\n\r\n/**\r\n * Iterate over an Array or an Object invoking a function for each item.\r\n *\r\n * If `obj` is an Array callback will be called passing\r\n * the value, index, and complete array for each item.\r\n *\r\n * If 'obj' is an Object callback will be called passing\r\n * the value, key, and complete object for each property.\r\n *\r\n * @param {Object|Array} obj The object to iterate\r\n * @param {Function} fn The callback to invoke for each item\r\n */\r\nfunction forEach(obj, fn) {\r\n  // Don't bother if no value provided\r\n  if (obj === null || typeof obj === 'undefined') {\r\n    return;\r\n  }\r\n\r\n  // Force an array if not already something iterable\r\n  if (typeof obj !== 'object') {\r\n    /*eslint no-param-reassign:0*/\r\n    obj = [obj];\r\n  }\r\n\r\n  if (isArray(obj)) {\r\n    // Iterate over array values\r\n    for (var i = 0, l = obj.length; i < l; i++) {\r\n      fn.call(null, obj[i], i, obj);\r\n    }\r\n  } else {\r\n    // Iterate over object keys\r\n    for (var key in obj) {\r\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n        fn.call(null, obj[key], key, obj);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Accepts varargs expecting each argument to be an object, then\r\n * immutably merges the properties of each object and returns result.\r\n *\r\n * When multiple objects contain the same key the later object in\r\n * the arguments list will take precedence.\r\n *\r\n * Example:\r\n *\r\n * ```js\r\n * var result = merge({foo: 123}, {foo: 456});\r\n * console.log(result.foo); // outputs 456\r\n * ```\r\n *\r\n * @param {Object} obj1 Object to merge\r\n * @returns {Object} Result of all merge properties\r\n */\r\nfunction merge(/* obj1, obj2, obj3, ... */) {\r\n  var result = {};\r\n  function assignValue(val, key) {\r\n    if (typeof result[key] === 'object' && typeof val === 'object') {\r\n      result[key] = merge(result[key], val);\r\n    } else {\r\n      result[key] = val;\r\n    }\r\n  }\r\n\r\n  for (var i = 0, l = arguments.length; i < l; i++) {\r\n    forEach(arguments[i], assignValue);\r\n  }\r\n  return result;\r\n}\r\n\r\n/**\r\n * Extends object a by mutably adding to it the properties of object b.\r\n *\r\n * @param {Object} a The object to be extended\r\n * @param {Object} b The object to copy properties from\r\n * @param {Object} thisArg The object to bind function to\r\n * @return {Object} The resulting value of object a\r\n */\r\nfunction extend(a, b, thisArg) {\r\n  forEach(b, function assignValue(val, key) {\r\n    if (thisArg && typeof val === 'function') {\r\n      a[key] = bind(val, thisArg);\r\n    } else {\r\n      a[key] = val;\r\n    }\r\n  });\r\n  return a;\r\n}\r\n\r\nmodule.exports = {\r\n  isArray: isArray,\r\n  isArrayBuffer: isArrayBuffer,\r\n  isBuffer: isBuffer,\r\n  isFormData: isFormData,\r\n  isArrayBufferView: isArrayBufferView,\r\n  isString: isString,\r\n  isNumber: isNumber,\r\n  isObject: isObject,\r\n  isUndefined: isUndefined,\r\n  isDate: isDate,\r\n  isFile: isFile,\r\n  isBlob: isBlob,\r\n  isFunction: isFunction,\r\n  isStream: isStream,\r\n  isURLSearchParams: isURLSearchParams,\r\n  isStandardBrowserEnv: isStandardBrowserEnv,\r\n  forEach: forEach,\r\n  merge: merge,\r\n  extend: extend,\r\n  trim: trim\r\n};\r\n","'use strict';\r\n\r\nvar utils = require('../utils');\r\n\r\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\r\n  utils.forEach(headers, function processHeader(value, name) {\r\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\r\n      headers[normalizedName] = value;\r\n      delete headers[name];\r\n    }\r\n  });\r\n};\r\n","'use strict';\r\n\r\n/**\r\n * Update an Error with the specified config, error code, and response.\r\n *\r\n * @param {Error} error The error to update.\r\n * @param {Object} config The config.\r\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\r\n * @param {Object} [request] The request.\r\n * @param {Object} [response] The response.\r\n * @returns {Error} The error.\r\n */\r\nmodule.exports = function enhanceError(error, config, code, request, response) {\r\n  error.config = config;\r\n  if (code) {\r\n    error.code = code;\r\n  }\r\n  error.request = request;\r\n  error.response = response;\r\n  return error;\r\n};\r\n","'use strict';\r\n\r\nvar enhanceError = require('./enhanceError');\r\n\r\n/**\r\n * Create an Error with the specified message, config, error code, request and response.\r\n *\r\n * @param {string} message The error message.\r\n * @param {Object} config The config.\r\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\r\n * @param {Object} [request] The request.\r\n * @param {Object} [response] The response.\r\n * @returns {Error} The created error.\r\n */\r\nmodule.exports = function createError(message, config, code, request, response) {\r\n  var error = new Error(message);\r\n  return enhanceError(error, config, code, request, response);\r\n};\r\n","'use strict';\r\n\r\nvar createError = require('./createError');\r\n\r\n/**\r\n * Resolve or reject a Promise based on response status.\r\n *\r\n * @param {Function} resolve A function that resolves the promise.\r\n * @param {Function} reject A function that rejects the promise.\r\n * @param {object} response The response.\r\n */\r\nmodule.exports = function settle(resolve, reject, response) {\r\n  var validateStatus = response.config.validateStatus;\r\n  // Note: status is not exposed by XDomainRequest\r\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\r\n    resolve(response);\r\n  } else {\r\n    reject(createError(\r\n      'Request failed with status code ' + response.status,\r\n      response.config,\r\n      null,\r\n      response.request,\r\n      response\r\n    ));\r\n  }\r\n};\r\n","'use strict';\r\n\r\nvar utils = require('./../utils');\r\n\r\nfunction encode(val) {\r\n  return encodeURIComponent(val).\r\n    replace(/%40/gi, '@').\r\n    replace(/%3A/gi, ':').\r\n    replace(/%24/g, '$').\r\n    replace(/%2C/gi, ',').\r\n    replace(/%20/g, '+').\r\n    replace(/%5B/gi, '[').\r\n    replace(/%5D/gi, ']');\r\n}\r\n\r\n/**\r\n * Build a URL by appending params to the end\r\n *\r\n * @param {string} url The base of the url (e.g., http://www.google.com)\r\n * @param {object} [params] The params to be appended\r\n * @returns {string} The formatted url\r\n */\r\nmodule.exports = function buildURL(url, params, paramsSerializer) {\r\n  /*eslint no-param-reassign:0*/\r\n  if (!params) {\r\n    return url;\r\n  }\r\n\r\n  var serializedParams;\r\n  if (paramsSerializer) {\r\n    serializedParams = paramsSerializer(params);\r\n  } else if (utils.isURLSearchParams(params)) {\r\n    serializedParams = params.toString();\r\n  } else {\r\n    var parts = [];\r\n\r\n    utils.forEach(params, function serialize(val, key) {\r\n      if (val === null || typeof val === 'undefined') {\r\n        return;\r\n      }\r\n\r\n      if (utils.isArray(val)) {\r\n        key = key + '[]';\r\n      } else {\r\n        val = [val];\r\n      }\r\n\r\n      utils.forEach(val, function parseValue(v) {\r\n        if (utils.isDate(v)) {\r\n          v = v.toISOString();\r\n        } else if (utils.isObject(v)) {\r\n          v = JSON.stringify(v);\r\n        }\r\n        parts.push(encode(key) + '=' + encode(v));\r\n      });\r\n    });\r\n\r\n    serializedParams = parts.join('&');\r\n  }\r\n\r\n  if (serializedParams) {\r\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\r\n  }\r\n\r\n  return url;\r\n};\r\n","'use strict';\r\n\r\nvar utils = require('./../utils');\r\n\r\n// Headers whose duplicates are ignored by node\r\n// c.f. https://nodejs.org/api/http.html#http_message_headers\r\nvar ignoreDuplicateOf = [\r\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\r\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\r\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\r\n  'referer', 'retry-after', 'user-agent'\r\n];\r\n\r\n/**\r\n * Parse headers into an object\r\n *\r\n * ```\r\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\r\n * Content-Type: application/json\r\n * Connection: keep-alive\r\n * Transfer-Encoding: chunked\r\n * ```\r\n *\r\n * @param {String} headers Headers needing to be parsed\r\n * @returns {Object} Headers parsed into an object\r\n */\r\nmodule.exports = function parseHeaders(headers) {\r\n  var parsed = {};\r\n  var key;\r\n  var val;\r\n  var i;\r\n\r\n  if (!headers) { return parsed; }\r\n\r\n  utils.forEach(headers.split('\\n'), function parser(line) {\r\n    i = line.indexOf(':');\r\n    key = utils.trim(line.substr(0, i)).toLowerCase();\r\n    val = utils.trim(line.substr(i + 1));\r\n\r\n    if (key) {\r\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\r\n        return;\r\n      }\r\n      if (key === 'set-cookie') {\r\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\r\n      } else {\r\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\r\n      }\r\n    }\r\n  });\r\n\r\n  return parsed;\r\n};\r\n","'use strict';\r\n\r\nvar utils = require('./../utils');\r\n\r\nmodule.exports = (\r\n  utils.isStandardBrowserEnv() ?\r\n\r\n  // Standard browser envs have full support of the APIs needed to test\r\n  // whether the request URL is of the same origin as current location.\r\n  (function standardBrowserEnv() {\r\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\r\n    var urlParsingNode = document.createElement('a');\r\n    var originURL;\r\n\r\n    /**\r\n    * Parse a URL to discover it's components\r\n    *\r\n    * @param {String} url The URL to be parsed\r\n    * @returns {Object}\r\n    */\r\n    function resolveURL(url) {\r\n      var href = url;\r\n\r\n      if (msie) {\r\n        // IE needs attribute set twice to normalize properties\r\n        urlParsingNode.setAttribute('href', href);\r\n        href = urlParsingNode.href;\r\n      }\r\n\r\n      urlParsingNode.setAttribute('href', href);\r\n\r\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\r\n      return {\r\n        href: urlParsingNode.href,\r\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\r\n        host: urlParsingNode.host,\r\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\r\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\r\n        hostname: urlParsingNode.hostname,\r\n        port: urlParsingNode.port,\r\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\r\n                  urlParsingNode.pathname :\r\n                  '/' + urlParsingNode.pathname\r\n      };\r\n    }\r\n\r\n    originURL = resolveURL(window.location.href);\r\n\r\n    /**\r\n    * Determine if a URL shares the same origin as the current location\r\n    *\r\n    * @param {String} requestURL The URL to test\r\n    * @returns {boolean} True if URL shares the same origin, otherwise false\r\n    */\r\n    return function isURLSameOrigin(requestURL) {\r\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\r\n      return (parsed.protocol === originURL.protocol &&\r\n            parsed.host === originURL.host);\r\n    };\r\n  })() :\r\n\r\n  // Non standard browser envs (web workers, react-native) lack needed support.\r\n  (function nonStandardBrowserEnv() {\r\n    return function isURLSameOrigin() {\r\n      return true;\r\n    };\r\n  })()\r\n);\r\n","'use strict';\r\n\r\n// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js\r\n\r\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\r\n\r\nfunction E() {\r\n  this.message = 'String contains an invalid character';\r\n}\r\nE.prototype = new Error;\r\nE.prototype.code = 5;\r\nE.prototype.name = 'InvalidCharacterError';\r\n\r\nfunction btoa(input) {\r\n  var str = String(input);\r\n  var output = '';\r\n  for (\r\n    // initialize result and counter\r\n    var block, charCode, idx = 0, map = chars;\r\n    // if the next str index does not exist:\r\n    //   change the mapping table to \"=\"\r\n    //   check if d has no fractional digits\r\n    str.charAt(idx | 0) || (map = '=', idx % 1);\r\n    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\r\n    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\r\n  ) {\r\n    charCode = str.charCodeAt(idx += 3 / 4);\r\n    if (charCode > 0xFF) {\r\n      throw new E();\r\n    }\r\n    block = block << 8 | charCode;\r\n  }\r\n  return output;\r\n}\r\n\r\nmodule.exports = btoa;\r\n","'use strict';\r\n\r\nvar utils = require('./../utils');\r\n\r\nmodule.exports = (\r\n  utils.isStandardBrowserEnv() ?\r\n\r\n  // Standard browser envs support document.cookie\r\n  (function standardBrowserEnv() {\r\n    return {\r\n      write: function write(name, value, expires, path, domain, secure) {\r\n        var cookie = [];\r\n        cookie.push(name + '=' + encodeURIComponent(value));\r\n\r\n        if (utils.isNumber(expires)) {\r\n          cookie.push('expires=' + new Date(expires).toGMTString());\r\n        }\r\n\r\n        if (utils.isString(path)) {\r\n          cookie.push('path=' + path);\r\n        }\r\n\r\n        if (utils.isString(domain)) {\r\n          cookie.push('domain=' + domain);\r\n        }\r\n\r\n        if (secure === true) {\r\n          cookie.push('secure');\r\n        }\r\n\r\n        document.cookie = cookie.join('; ');\r\n      },\r\n\r\n      read: function read(name) {\r\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\r\n        return (match ? decodeURIComponent(match[3]) : null);\r\n      },\r\n\r\n      remove: function remove(name) {\r\n        this.write(name, '', Date.now() - 86400000);\r\n      }\r\n    };\r\n  })() :\r\n\r\n  // Non standard browser env (web workers, react-native) lack needed support.\r\n  (function nonStandardBrowserEnv() {\r\n    return {\r\n      write: function write() {},\r\n      read: function read() { return null; },\r\n      remove: function remove() {}\r\n    };\r\n  })()\r\n);\r\n","'use strict';\r\n\r\nvar utils = require('./../utils');\r\nvar settle = require('./../core/settle');\r\nvar buildURL = require('./../helpers/buildURL');\r\nvar parseHeaders = require('./../helpers/parseHeaders');\r\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\r\nvar createError = require('../core/createError');\r\nvar btoa = (typeof window !== 'undefined' && window.btoa && window.btoa.bind(window)) || require('./../helpers/btoa');\r\n\r\nmodule.exports = function xhrAdapter(config) {\r\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\r\n    var requestData = config.data;\r\n    var requestHeaders = config.headers;\r\n\r\n    if (utils.isFormData(requestData)) {\r\n      delete requestHeaders['Content-Type']; // Let the browser set it\r\n    }\r\n\r\n    var request = new XMLHttpRequest();\r\n    var loadEvent = 'onreadystatechange';\r\n    var xDomain = false;\r\n\r\n    // For IE 8/9 CORS support\r\n    // Only supports POST and GET calls and doesn't returns the response headers.\r\n    // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.\r\n    if (process.env.NODE_ENV !== 'test' &&\r\n        typeof window !== 'undefined' &&\r\n        window.XDomainRequest && !('withCredentials' in request) &&\r\n        !isURLSameOrigin(config.url)) {\r\n      request = new window.XDomainRequest();\r\n      loadEvent = 'onload';\r\n      xDomain = true;\r\n      request.onprogress = function handleProgress() {};\r\n      request.ontimeout = function handleTimeout() {};\r\n    }\r\n\r\n    // HTTP basic authentication\r\n    if (config.auth) {\r\n      var username = config.auth.username || '';\r\n      var password = config.auth.password || '';\r\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\r\n    }\r\n\r\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\r\n\r\n    // Set the request timeout in MS\r\n    request.timeout = config.timeout;\r\n\r\n    // Listen for ready state\r\n    request[loadEvent] = function handleLoad() {\r\n      if (!request || (request.readyState !== 4 && !xDomain)) {\r\n        return;\r\n      }\r\n\r\n      // The request errored out and we didn't get a response, this will be\r\n      // handled by onerror instead\r\n      // With one exception: request that using file: protocol, most browsers\r\n      // will return status as 0 even though it's a successful request\r\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\r\n        return;\r\n      }\r\n\r\n      // Prepare the response\r\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\r\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\r\n      var response = {\r\n        data: responseData,\r\n        // IE sends 1223 instead of 204 (https://github.com/axios/axios/issues/201)\r\n        status: request.status === 1223 ? 204 : request.status,\r\n        statusText: request.status === 1223 ? 'No Content' : request.statusText,\r\n        headers: responseHeaders,\r\n        config: config,\r\n        request: request\r\n      };\r\n\r\n      settle(resolve, reject, response);\r\n\r\n      // Clean up request\r\n      request = null;\r\n    };\r\n\r\n    // Handle low level network errors\r\n    request.onerror = function handleError() {\r\n      // Real errors are hidden from us by the browser\r\n      // onerror should only fire if it's a network error\r\n      reject(createError('Network Error', config, null, request));\r\n\r\n      // Clean up request\r\n      request = null;\r\n    };\r\n\r\n    // Handle timeout\r\n    request.ontimeout = function handleTimeout() {\r\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',\r\n        request));\r\n\r\n      // Clean up request\r\n      request = null;\r\n    };\r\n\r\n    // Add xsrf header\r\n    // This is only done if running in a standard browser environment.\r\n    // Specifically not if we're in a web worker, or react-native.\r\n    if (utils.isStandardBrowserEnv()) {\r\n      var cookies = require('./../helpers/cookies');\r\n\r\n      // Add xsrf header\r\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\r\n          cookies.read(config.xsrfCookieName) :\r\n          undefined;\r\n\r\n      if (xsrfValue) {\r\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\r\n      }\r\n    }\r\n\r\n    // Add headers to the request\r\n    if ('setRequestHeader' in request) {\r\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\r\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\r\n          // Remove Content-Type if data is undefined\r\n          delete requestHeaders[key];\r\n        } else {\r\n          // Otherwise add header to the request\r\n          request.setRequestHeader(key, val);\r\n        }\r\n      });\r\n    }\r\n\r\n    // Add withCredentials to request if needed\r\n    if (config.withCredentials) {\r\n      request.withCredentials = true;\r\n    }\r\n\r\n    // Add responseType to request if needed\r\n    if (config.responseType) {\r\n      try {\r\n        request.responseType = config.responseType;\r\n      } catch (e) {\r\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\r\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\r\n        if (config.responseType !== 'json') {\r\n          throw e;\r\n        }\r\n      }\r\n    }\r\n\r\n    // Handle progress if needed\r\n    if (typeof config.onDownloadProgress === 'function') {\r\n      request.addEventListener('progress', config.onDownloadProgress);\r\n    }\r\n\r\n    // Not all browsers support upload events\r\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\r\n      request.upload.addEventListener('progress', config.onUploadProgress);\r\n    }\r\n\r\n    if (config.cancelToken) {\r\n      // Handle cancellation\r\n      config.cancelToken.promise.then(function onCanceled(cancel) {\r\n        if (!request) {\r\n          return;\r\n        }\r\n\r\n        request.abort();\r\n        reject(cancel);\r\n        // Clean up request\r\n        request = null;\r\n      });\r\n    }\r\n\r\n    if (requestData === undefined) {\r\n      requestData = null;\r\n    }\r\n\r\n    // Send the request\r\n    request.send(requestData);\r\n  });\r\n};\r\n","/**\r\n * Helpers.\r\n */\r\n\r\nvar s = 1000;\r\nvar m = s * 60;\r\nvar h = m * 60;\r\nvar d = h * 24;\r\nvar y = d * 365.25;\r\n\r\n/**\r\n * Parse or format the given `val`.\r\n *\r\n * Options:\r\n *\r\n *  - `long` verbose formatting [false]\r\n *\r\n * @param {String|Number} val\r\n * @param {Object} [options]\r\n * @throws {Error} throw an error if val is not a non-empty string or a number\r\n * @return {String|Number}\r\n * @api public\r\n */\r\n\r\nmodule.exports = function(val, options) {\r\n  options = options || {};\r\n  var type = typeof val;\r\n  if (type === 'string' && val.length > 0) {\r\n    return parse(val);\r\n  } else if (type === 'number' && isNaN(val) === false) {\r\n    return options.long ? fmtLong(val) : fmtShort(val);\r\n  }\r\n  throw new Error(\r\n    'val is not a non-empty string or a valid number. val=' +\r\n      JSON.stringify(val)\r\n  );\r\n};\r\n\r\n/**\r\n * Parse the given `str` and return milliseconds.\r\n *\r\n * @param {String} str\r\n * @return {Number}\r\n * @api private\r\n */\r\n\r\nfunction parse(str) {\r\n  str = String(str);\r\n  if (str.length > 100) {\r\n    return;\r\n  }\r\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\r\n    str\r\n  );\r\n  if (!match) {\r\n    return;\r\n  }\r\n  var n = parseFloat(match[1]);\r\n  var type = (match[2] || 'ms').toLowerCase();\r\n  switch (type) {\r\n    case 'years':\r\n    case 'year':\r\n    case 'yrs':\r\n    case 'yr':\r\n    case 'y':\r\n      return n * y;\r\n    case 'days':\r\n    case 'day':\r\n    case 'd':\r\n      return n * d;\r\n    case 'hours':\r\n    case 'hour':\r\n    case 'hrs':\r\n    case 'hr':\r\n    case 'h':\r\n      return n * h;\r\n    case 'minutes':\r\n    case 'minute':\r\n    case 'mins':\r\n    case 'min':\r\n    case 'm':\r\n      return n * m;\r\n    case 'seconds':\r\n    case 'second':\r\n    case 'secs':\r\n    case 'sec':\r\n    case 's':\r\n      return n * s;\r\n    case 'milliseconds':\r\n    case 'millisecond':\r\n    case 'msecs':\r\n    case 'msec':\r\n    case 'ms':\r\n      return n;\r\n    default:\r\n      return undefined;\r\n  }\r\n}\r\n\r\n/**\r\n * Short format for `ms`.\r\n *\r\n * @param {Number} ms\r\n * @return {String}\r\n * @api private\r\n */\r\n\r\nfunction fmtShort(ms) {\r\n  if (ms >= d) {\r\n    return Math.round(ms / d) + 'd';\r\n  }\r\n  if (ms >= h) {\r\n    return Math.round(ms / h) + 'h';\r\n  }\r\n  if (ms >= m) {\r\n    return Math.round(ms / m) + 'm';\r\n  }\r\n  if (ms >= s) {\r\n    return Math.round(ms / s) + 's';\r\n  }\r\n  return ms + 'ms';\r\n}\r\n\r\n/**\r\n * Long format for `ms`.\r\n *\r\n * @param {Number} ms\r\n * @return {String}\r\n * @api private\r\n */\r\n\r\nfunction fmtLong(ms) {\r\n  return plural(ms, d, 'day') ||\r\n    plural(ms, h, 'hour') ||\r\n    plural(ms, m, 'minute') ||\r\n    plural(ms, s, 'second') ||\r\n    ms + ' ms';\r\n}\r\n\r\n/**\r\n * Pluralization helper.\r\n */\r\n\r\nfunction plural(ms, n, name) {\r\n  if (ms < n) {\r\n    return;\r\n  }\r\n  if (ms < n * 1.5) {\r\n    return Math.floor(ms / n) + ' ' + name;\r\n  }\r\n  return Math.ceil(ms / n) + ' ' + name + 's';\r\n}\r\n","\r\n/**\r\n * This is the common logic for both the Node.js and web browser\r\n * implementations of `debug()`.\r\n *\r\n * Expose `debug()` as the module.\r\n */\r\n\r\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\r\nexports.coerce = coerce;\r\nexports.disable = disable;\r\nexports.enable = enable;\r\nexports.enabled = enabled;\r\nexports.humanize = require('ms');\r\n\r\n/**\r\n * Active `debug` instances.\r\n */\r\nexports.instances = [];\r\n\r\n/**\r\n * The currently active debug mode names, and names to skip.\r\n */\r\n\r\nexports.names = [];\r\nexports.skips = [];\r\n\r\n/**\r\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\r\n *\r\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\r\n */\r\n\r\nexports.formatters = {};\r\n\r\n/**\r\n * Select a color.\r\n * @param {String} namespace\r\n * @return {Number}\r\n * @api private\r\n */\r\n\r\nfunction selectColor(namespace) {\r\n  var hash = 0, i;\r\n\r\n  for (i in namespace) {\r\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\r\n    hash |= 0; // Convert to 32bit integer\r\n  }\r\n\r\n  return exports.colors[Math.abs(hash) % exports.colors.length];\r\n}\r\n\r\n/**\r\n * Create a debugger with the given `namespace`.\r\n *\r\n * @param {String} namespace\r\n * @return {Function}\r\n * @api public\r\n */\r\n\r\nfunction createDebug(namespace) {\r\n\r\n  var prevTime;\r\n\r\n  function debug() {\r\n    // disabled?\r\n    if (!debug.enabled) return;\r\n\r\n    var self = debug;\r\n\r\n    // set `diff` timestamp\r\n    var curr = +new Date();\r\n    var ms = curr - (prevTime || curr);\r\n    self.diff = ms;\r\n    self.prev = prevTime;\r\n    self.curr = curr;\r\n    prevTime = curr;\r\n\r\n    // turn the `arguments` into a proper Array\r\n    var args = new Array(arguments.length);\r\n    for (var i = 0; i < args.length; i++) {\r\n      args[i] = arguments[i];\r\n    }\r\n\r\n    args[0] = exports.coerce(args[0]);\r\n\r\n    if ('string' !== typeof args[0]) {\r\n      // anything else let's inspect with %O\r\n      args.unshift('%O');\r\n    }\r\n\r\n    // apply any `formatters` transformations\r\n    var index = 0;\r\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\r\n      // if we encounter an escaped % then don't increase the array index\r\n      if (match === '%%') return match;\r\n      index++;\r\n      var formatter = exports.formatters[format];\r\n      if ('function' === typeof formatter) {\r\n        var val = args[index];\r\n        match = formatter.call(self, val);\r\n\r\n        // now we need to remove `args[index]` since it's inlined in the `format`\r\n        args.splice(index, 1);\r\n        index--;\r\n      }\r\n      return match;\r\n    });\r\n\r\n    // apply env-specific formatting (colors, etc.)\r\n    exports.formatArgs.call(self, args);\r\n\r\n    var logFn = debug.log || exports.log || console.log.bind(console);\r\n    logFn.apply(self, args);\r\n  }\r\n\r\n  debug.namespace = namespace;\r\n  debug.enabled = exports.enabled(namespace);\r\n  debug.useColors = exports.useColors();\r\n  debug.color = selectColor(namespace);\r\n  debug.destroy = destroy;\r\n\r\n  // env-specific initialization logic for debug instances\r\n  if ('function' === typeof exports.init) {\r\n    exports.init(debug);\r\n  }\r\n\r\n  exports.instances.push(debug);\r\n\r\n  return debug;\r\n}\r\n\r\nfunction destroy () {\r\n  var index = exports.instances.indexOf(this);\r\n  if (index !== -1) {\r\n    exports.instances.splice(index, 1);\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\n/**\r\n * Enables a debug mode by namespaces. This can include modes\r\n * separated by a colon and wildcards.\r\n *\r\n * @param {String} namespaces\r\n * @api public\r\n */\r\n\r\nfunction enable(namespaces) {\r\n  exports.save(namespaces);\r\n\r\n  exports.names = [];\r\n  exports.skips = [];\r\n\r\n  var i;\r\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\r\n  var len = split.length;\r\n\r\n  for (i = 0; i < len; i++) {\r\n    if (!split[i]) continue; // ignore empty strings\r\n    namespaces = split[i].replace(/\\*/g, '.*?');\r\n    if (namespaces[0] === '-') {\r\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\r\n    } else {\r\n      exports.names.push(new RegExp('^' + namespaces + '$'));\r\n    }\r\n  }\r\n\r\n  for (i = 0; i < exports.instances.length; i++) {\r\n    var instance = exports.instances[i];\r\n    instance.enabled = exports.enabled(instance.namespace);\r\n  }\r\n}\r\n\r\n/**\r\n * Disable debug output.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction disable() {\r\n  exports.enable('');\r\n}\r\n\r\n/**\r\n * Returns true if the given mode name is enabled, false otherwise.\r\n *\r\n * @param {String} name\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nfunction enabled(name) {\r\n  if (name[name.length - 1] === '*') {\r\n    return true;\r\n  }\r\n  var i, len;\r\n  for (i = 0, len = exports.skips.length; i < len; i++) {\r\n    if (exports.skips[i].test(name)) {\r\n      return false;\r\n    }\r\n  }\r\n  for (i = 0, len = exports.names.length; i < len; i++) {\r\n    if (exports.names[i].test(name)) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\n/**\r\n * Coerce `val`.\r\n *\r\n * @param {Mixed} val\r\n * @return {Mixed}\r\n * @api private\r\n */\r\n\r\nfunction coerce(val) {\r\n  if (val instanceof Error) return val.stack || val.message;\r\n  return val;\r\n}\r\n","/**\r\n * This is the web browser implementation of `debug()`.\r\n *\r\n * Expose `debug()` as the module.\r\n */\r\n\r\nexports = module.exports = require('./debug');\r\nexports.log = log;\r\nexports.formatArgs = formatArgs;\r\nexports.save = save;\r\nexports.load = load;\r\nexports.useColors = useColors;\r\nexports.storage = 'undefined' != typeof chrome\r\n               && 'undefined' != typeof chrome.storage\r\n                  ? chrome.storage.local\r\n                  : localstorage();\r\n\r\n/**\r\n * Colors.\r\n */\r\n\r\nexports.colors = [\r\n  '#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC',\r\n  '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF',\r\n  '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC',\r\n  '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF',\r\n  '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC',\r\n  '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033',\r\n  '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366',\r\n  '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933',\r\n  '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC',\r\n  '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF',\r\n  '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'\r\n];\r\n\r\n/**\r\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\r\n * and the Firebug extension (any Firefox version) are known\r\n * to support \"%c\" CSS customizations.\r\n *\r\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\r\n */\r\n\r\nfunction useColors() {\r\n  // NB: In an Electron preload script, document will be defined but not fully\r\n  // initialized. Since we know we're in Chrome, we'll just detect this case\r\n  // explicitly\r\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\r\n    return true;\r\n  }\r\n\r\n  // Internet Explorer and Edge do not support colors.\r\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\r\n    return false;\r\n  }\r\n\r\n  // is webkit? http://stackoverflow.com/a/16459606/376773\r\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\r\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\r\n    // is firebug? http://stackoverflow.com/a/398120/376773\r\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\r\n    // is firefox >= v31?\r\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\r\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\r\n    // double check webkit in userAgent just in case we are in a worker\r\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\r\n}\r\n\r\n/**\r\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\r\n */\r\n\r\nexports.formatters.j = function(v) {\r\n  try {\r\n    return JSON.stringify(v);\r\n  } catch (err) {\r\n    return '[UnexpectedJSONParseError]: ' + err.message;\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Colorize log arguments if enabled.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction formatArgs(args) {\r\n  var useColors = this.useColors;\r\n\r\n  args[0] = (useColors ? '%c' : '')\r\n    + this.namespace\r\n    + (useColors ? ' %c' : ' ')\r\n    + args[0]\r\n    + (useColors ? '%c ' : ' ')\r\n    + '+' + exports.humanize(this.diff);\r\n\r\n  if (!useColors) return;\r\n\r\n  var c = 'color: ' + this.color;\r\n  args.splice(1, 0, c, 'color: inherit')\r\n\r\n  // the final \"%c\" is somewhat tricky, because there could be other\r\n  // arguments passed either before or after the %c, so we need to\r\n  // figure out the correct index to insert the CSS into\r\n  var index = 0;\r\n  var lastC = 0;\r\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\r\n    if ('%%' === match) return;\r\n    index++;\r\n    if ('%c' === match) {\r\n      // we only are interested in the *last* %c\r\n      // (the user may have provided their own)\r\n      lastC = index;\r\n    }\r\n  });\r\n\r\n  args.splice(lastC, 0, c);\r\n}\r\n\r\n/**\r\n * Invokes `console.log()` when available.\r\n * No-op when `console.log` is not a \"function\".\r\n *\r\n * @api public\r\n */\r\n\r\nfunction log() {\r\n  // this hackery is required for IE8/9, where\r\n  // the `console.log` function doesn't have 'apply'\r\n  return 'object' === typeof console\r\n    && console.log\r\n    && Function.prototype.apply.call(console.log, console, arguments);\r\n}\r\n\r\n/**\r\n * Save `namespaces`.\r\n *\r\n * @param {String} namespaces\r\n * @api private\r\n */\r\n\r\nfunction save(namespaces) {\r\n  try {\r\n    if (null == namespaces) {\r\n      exports.storage.removeItem('debug');\r\n    } else {\r\n      exports.storage.debug = namespaces;\r\n    }\r\n  } catch(e) {}\r\n}\r\n\r\n/**\r\n * Load `namespaces`.\r\n *\r\n * @return {String} returns the previously persisted debug modes\r\n * @api private\r\n */\r\n\r\nfunction load() {\r\n  var r;\r\n  try {\r\n    r = exports.storage.debug;\r\n  } catch(e) {}\r\n\r\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\r\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\r\n    r = process.env.DEBUG;\r\n  }\r\n\r\n  return r;\r\n}\r\n\r\n/**\r\n * Enable namespaces listed in `localStorage.debug` initially.\r\n */\r\n\r\nexports.enable(load());\r\n\r\n/**\r\n * Localstorage attempts to return the localstorage.\r\n *\r\n * This is necessary because safari throws\r\n * when a user disables cookies/localstorage\r\n * and you attempt to access it.\r\n *\r\n * @return {LocalStorage}\r\n * @api private\r\n */\r\n\r\nfunction localstorage() {\r\n  try {\r\n    return window.localStorage;\r\n  } catch (e) {}\r\n}\r\n","/**\r\n * Module dependencies.\r\n */\r\n\r\nvar tty = require('tty');\r\nvar util = require('util');\r\n\r\n/**\r\n * This is the Node.js implementation of `debug()`.\r\n *\r\n * Expose `debug()` as the module.\r\n */\r\n\r\nexports = module.exports = require('./debug');\r\nexports.init = init;\r\nexports.log = log;\r\nexports.formatArgs = formatArgs;\r\nexports.save = save;\r\nexports.load = load;\r\nexports.useColors = useColors;\r\n\r\n/**\r\n * Colors.\r\n */\r\n\r\nexports.colors = [ 6, 2, 3, 4, 5, 1 ];\r\n\r\ntry {\r\n  var supportsColor = require('supports-color');\r\n  if (supportsColor && supportsColor.level >= 2) {\r\n    exports.colors = [\r\n      20, 21, 26, 27, 32, 33, 38, 39, 40, 41, 42, 43, 44, 45, 56, 57, 62, 63, 68,\r\n      69, 74, 75, 76, 77, 78, 79, 80, 81, 92, 93, 98, 99, 112, 113, 128, 129, 134,\r\n      135, 148, 149, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171,\r\n      172, 173, 178, 179, 184, 185, 196, 197, 198, 199, 200, 201, 202, 203, 204,\r\n      205, 206, 207, 208, 209, 214, 215, 220, 221\r\n    ];\r\n  }\r\n} catch (err) {\r\n  // swallow - we only care if `supports-color` is available; it doesn't have to be.\r\n}\r\n\r\n/**\r\n * Build up the default `inspectOpts` object from the environment variables.\r\n *\r\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\r\n */\r\n\r\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\r\n  return /^debug_/i.test(key);\r\n}).reduce(function (obj, key) {\r\n  // camel-case\r\n  var prop = key\r\n    .substring(6)\r\n    .toLowerCase()\r\n    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\r\n\r\n  // coerce string value into JS value\r\n  var val = process.env[key];\r\n  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\r\n  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\r\n  else if (val === 'null') val = null;\r\n  else val = Number(val);\r\n\r\n  obj[prop] = val;\r\n  return obj;\r\n}, {});\r\n\r\n/**\r\n * Is stdout a TTY? Colored output is enabled when `true`.\r\n */\r\n\r\nfunction useColors() {\r\n  return 'colors' in exports.inspectOpts\r\n    ? Boolean(exports.inspectOpts.colors)\r\n    : tty.isatty(process.stderr.fd);\r\n}\r\n\r\n/**\r\n * Map %o to `util.inspect()`, all on a single line.\r\n */\r\n\r\nexports.formatters.o = function(v) {\r\n  this.inspectOpts.colors = this.useColors;\r\n  return util.inspect(v, this.inspectOpts)\r\n    .split('\\n').map(function(str) {\r\n      return str.trim()\r\n    }).join(' ');\r\n};\r\n\r\n/**\r\n * Map %o to `util.inspect()`, allowing multiple lines if needed.\r\n */\r\n\r\nexports.formatters.O = function(v) {\r\n  this.inspectOpts.colors = this.useColors;\r\n  return util.inspect(v, this.inspectOpts);\r\n};\r\n\r\n/**\r\n * Adds ANSI color escape codes if enabled.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction formatArgs(args) {\r\n  var name = this.namespace;\r\n  var useColors = this.useColors;\r\n\r\n  if (useColors) {\r\n    var c = this.color;\r\n    var colorCode = '\\u001b[3' + (c < 8 ? c : '8;5;' + c);\r\n    var prefix = '  ' + colorCode + ';1m' + name + ' ' + '\\u001b[0m';\r\n\r\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\r\n    args.push(colorCode + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\r\n  } else {\r\n    args[0] = getDate() + name + ' ' + args[0];\r\n  }\r\n}\r\n\r\nfunction getDate() {\r\n  if (exports.inspectOpts.hideDate) {\r\n    return '';\r\n  } else {\r\n    return new Date().toISOString() + ' ';\r\n  }\r\n}\r\n\r\n/**\r\n * Invokes `util.format()` with the specified arguments and writes to stderr.\r\n */\r\n\r\nfunction log() {\r\n  return process.stderr.write(util.format.apply(util, arguments) + '\\n');\r\n}\r\n\r\n/**\r\n * Save `namespaces`.\r\n *\r\n * @param {String} namespaces\r\n * @api private\r\n */\r\n\r\nfunction save(namespaces) {\r\n  if (null == namespaces) {\r\n    // If you set a process.env field to null or undefined, it gets cast to the\r\n    // string 'null' or 'undefined'. Just delete instead.\r\n    delete process.env.DEBUG;\r\n  } else {\r\n    process.env.DEBUG = namespaces;\r\n  }\r\n}\r\n\r\n/**\r\n * Load `namespaces`.\r\n *\r\n * @return {String} returns the previously persisted debug modes\r\n * @api private\r\n */\r\n\r\nfunction load() {\r\n  return process.env.DEBUG;\r\n}\r\n\r\n/**\r\n * Init logic for `debug` instances.\r\n *\r\n * Create a new `inspectOpts` object in case `useColors` is set\r\n * differently for a particular `debug` instance.\r\n */\r\n\r\nfunction init (debug) {\r\n  debug.inspectOpts = {};\r\n\r\n  var keys = Object.keys(exports.inspectOpts);\r\n  for (var i = 0; i < keys.length; i++) {\r\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\r\n  }\r\n}\r\n\r\n/**\r\n * Enable namespaces listed in `process.env.DEBUG` initially.\r\n */\r\n\r\nexports.enable(load());\r\n","/**\r\n * Detect Electron renderer process, which is node, but we should\r\n * treat as a browser.\r\n */\r\n\r\nif (typeof process === 'undefined' || process.type === 'renderer') {\r\n  module.exports = require('./browser.js');\r\n} else {\r\n  module.exports = require('./node.js');\r\n}\r\n","var url = require(\"url\");\r\nvar http = require(\"http\");\r\nvar https = require(\"https\");\r\nvar assert = require(\"assert\");\r\nvar Writable = require(\"stream\").Writable;\r\nvar debug = require(\"debug\")(\"follow-redirects\");\r\n\r\n// RFC72314.2.1: Of the request methods defined by this specification,\r\n// the GET, HEAD, OPTIONS, and TRACE methods are defined to be safe.\r\nvar SAFE_METHODS = { GET: true, HEAD: true, OPTIONS: true, TRACE: true };\r\n\r\n// Create handlers that pass events from native requests\r\nvar eventHandlers = Object.create(null);\r\n[\"abort\", \"aborted\", \"error\", \"socket\", \"timeout\"].forEach(function (event) {\r\n  eventHandlers[event] = function (arg) {\r\n    this._redirectable.emit(event, arg);\r\n  };\r\n});\r\n\r\n// An HTTP(S) request that can be redirected\r\nfunction RedirectableRequest(options, responseCallback) {\r\n  // Initialize the request\r\n  Writable.call(this);\r\n  options.headers = options.headers || {};\r\n  this._options = options;\r\n  this._redirectCount = 0;\r\n  this._redirects = [];\r\n  this._requestBodyLength = 0;\r\n  this._requestBodyBuffers = [];\r\n\r\n  // Since http.request treats host as an alias of hostname,\r\n  // but the url module interprets host as hostname plus port,\r\n  // eliminate the host property to avoid confusion.\r\n  if (options.host) {\r\n    // Use hostname if set, because it has precedence\r\n    if (!options.hostname) {\r\n      options.hostname = options.host;\r\n    }\r\n    delete options.host;\r\n  }\r\n\r\n  // Attach a callback if passed\r\n  if (responseCallback) {\r\n    this.on(\"response\", responseCallback);\r\n  }\r\n\r\n  // React to responses of native requests\r\n  var self = this;\r\n  this._onNativeResponse = function (response) {\r\n    self._processResponse(response);\r\n  };\r\n\r\n  // Complete the URL object when necessary\r\n  if (!options.pathname && options.path) {\r\n    var searchPos = options.path.indexOf(\"?\");\r\n    if (searchPos < 0) {\r\n      options.pathname = options.path;\r\n    }\r\n    else {\r\n      options.pathname = options.path.substring(0, searchPos);\r\n      options.search = options.path.substring(searchPos);\r\n    }\r\n  }\r\n\r\n  // Perform the first request\r\n  this._performRequest();\r\n}\r\nRedirectableRequest.prototype = Object.create(Writable.prototype);\r\n\r\n// Writes buffered data to the current native request\r\nRedirectableRequest.prototype.write = function (data, encoding, callback) {\r\n  // Validate input and shift parameters if necessary\r\n  if (!(typeof data === \"string\" || typeof data === \"object\" && (\"length\" in data))) {\r\n    throw new Error(\"data should be a string, Buffer or Uint8Array\");\r\n  }\r\n  if (typeof encoding === \"function\") {\r\n    callback = encoding;\r\n    encoding = null;\r\n  }\r\n\r\n  // Ignore empty buffers, since writing them doesn't invoke the callback\r\n  // https://github.com/nodejs/node/issues/22066\r\n  if (data.length === 0) {\r\n    if (callback) {\r\n      callback();\r\n    }\r\n    return;\r\n  }\r\n  // Only write when we don't exceed the maximum body length\r\n  if (this._requestBodyLength + data.length <= this._options.maxBodyLength) {\r\n    this._requestBodyLength += data.length;\r\n    this._requestBodyBuffers.push({ data: data, encoding: encoding });\r\n    this._currentRequest.write(data, encoding, callback);\r\n  }\r\n  // Error when we exceed the maximum body length\r\n  else {\r\n    this.emit(\"error\", new Error(\"Request body larger than maxBodyLength limit\"));\r\n    this.abort();\r\n  }\r\n};\r\n\r\n// Ends the current native request\r\nRedirectableRequest.prototype.end = function (data, encoding, callback) {\r\n  // Shift parameters if necessary\r\n  if (typeof data === \"function\") {\r\n    callback = data;\r\n    data = encoding = null;\r\n  }\r\n  else if (typeof encoding === \"function\") {\r\n    callback = encoding;\r\n    encoding = null;\r\n  }\r\n\r\n  // Write data and end\r\n  var currentRequest = this._currentRequest;\r\n  this.write(data || \"\", encoding, function () {\r\n    currentRequest.end(null, null, callback);\r\n  });\r\n};\r\n\r\n// Sets a header value on the current native request\r\nRedirectableRequest.prototype.setHeader = function (name, value) {\r\n  this._options.headers[name] = value;\r\n  this._currentRequest.setHeader(name, value);\r\n};\r\n\r\n// Clears a header value on the current native request\r\nRedirectableRequest.prototype.removeHeader = function (name) {\r\n  delete this._options.headers[name];\r\n  this._currentRequest.removeHeader(name);\r\n};\r\n\r\n// Proxy all other public ClientRequest methods\r\n[\r\n  \"abort\", \"flushHeaders\", \"getHeader\",\r\n  \"setNoDelay\", \"setSocketKeepAlive\", \"setTimeout\",\r\n].forEach(function (method) {\r\n  RedirectableRequest.prototype[method] = function (a, b) {\r\n    return this._currentRequest[method](a, b);\r\n  };\r\n});\r\n\r\n// Proxy all public ClientRequest properties\r\n[\"aborted\", \"connection\", \"socket\"].forEach(function (property) {\r\n  Object.defineProperty(RedirectableRequest.prototype, property, {\r\n    get: function () { return this._currentRequest[property]; },\r\n  });\r\n});\r\n\r\n// Executes the next native request (initial or redirect)\r\nRedirectableRequest.prototype._performRequest = function () {\r\n  // Load the native protocol\r\n  var protocol = this._options.protocol;\r\n  var nativeProtocol = this._options.nativeProtocols[protocol];\r\n  if (!nativeProtocol) {\r\n    this.emit(\"error\", new Error(\"Unsupported protocol \" + protocol));\r\n    return;\r\n  }\r\n\r\n  // If specified, use the agent corresponding to the protocol\r\n  // (HTTP and HTTPS use different types of agents)\r\n  if (this._options.agents) {\r\n    var scheme = protocol.substr(0, protocol.length - 1);\r\n    this._options.agent = this._options.agents[scheme];\r\n  }\r\n\r\n  // Create the native request\r\n  var request = this._currentRequest =\r\n        nativeProtocol.request(this._options, this._onNativeResponse);\r\n  this._currentUrl = url.format(this._options);\r\n\r\n  // Set up event handlers\r\n  request._redirectable = this;\r\n  for (var event in eventHandlers) {\r\n    /* istanbul ignore else */\r\n    if (event) {\r\n      request.on(event, eventHandlers[event]);\r\n    }\r\n  }\r\n\r\n  // End a redirected request\r\n  // (The first request must be ended explicitly with RedirectableRequest#end)\r\n  if (this._isRedirect) {\r\n    // Write the request entity and end.\r\n    var i = 0;\r\n    var buffers = this._requestBodyBuffers;\r\n    (function writeNext() {\r\n      if (i < buffers.length) {\r\n        var buffer = buffers[i++];\r\n        request.write(buffer.data, buffer.encoding, writeNext);\r\n      }\r\n      else {\r\n        request.end();\r\n      }\r\n    }());\r\n  }\r\n};\r\n\r\n// Processes a response from the current native request\r\nRedirectableRequest.prototype._processResponse = function (response) {\r\n  // Store the redirected response\r\n  if (this._options.trackRedirects) {\r\n    this._redirects.push({\r\n      url: this._currentUrl,\r\n      headers: response.headers,\r\n      statusCode: response.statusCode,\r\n    });\r\n  }\r\n\r\n  // RFC72316.4: The 3xx (Redirection) class of status code indicates\r\n  // that further action needs to be taken by the user agent in order to\r\n  // fulfill the request. If a Location header field is provided,\r\n  // the user agent MAY automatically redirect its request to the URI\r\n  // referenced by the Location field value,\r\n  // even if the specific status code is not understood.\r\n  var location = response.headers.location;\r\n  if (location && this._options.followRedirects !== false &&\r\n      response.statusCode >= 300 && response.statusCode < 400) {\r\n    // RFC72316.4: A client SHOULD detect and intervene\r\n    // in cyclical redirections (i.e., \"infinite\" redirection loops).\r\n    if (++this._redirectCount > this._options.maxRedirects) {\r\n      this.emit(\"error\", new Error(\"Max redirects exceeded.\"));\r\n      return;\r\n    }\r\n\r\n    // RFC72316.4: Automatic redirection needs to done with\r\n    // care for methods not known to be safe [],\r\n    // since the user might not wish to redirect an unsafe request.\r\n    // RFC72316.4.7: The 307 (Temporary Redirect) status code indicates\r\n    // that the target resource resides temporarily under a different URI\r\n    // and the user agent MUST NOT change the request method\r\n    // if it performs an automatic redirection to that URI.\r\n    var header;\r\n    var headers = this._options.headers;\r\n    if (response.statusCode !== 307 && !(this._options.method in SAFE_METHODS)) {\r\n      this._options.method = \"GET\";\r\n      // Drop a possible entity and headers related to it\r\n      this._requestBodyBuffers = [];\r\n      for (header in headers) {\r\n        if (/^content-/i.test(header)) {\r\n          delete headers[header];\r\n        }\r\n      }\r\n    }\r\n\r\n    // Drop the Host header, as the redirect might lead to a different host\r\n    if (!this._isRedirect) {\r\n      for (header in headers) {\r\n        if (/^host$/i.test(header)) {\r\n          delete headers[header];\r\n        }\r\n      }\r\n    }\r\n\r\n    // Perform the redirected request\r\n    var redirectUrl = url.resolve(this._currentUrl, location);\r\n    debug(\"redirecting to\", redirectUrl);\r\n    Object.assign(this._options, url.parse(redirectUrl));\r\n    this._isRedirect = true;\r\n    this._performRequest();\r\n\r\n    // Discard the remainder of the response to avoid waiting for data\r\n    response.destroy();\r\n  }\r\n  else {\r\n    // The response is not a redirect; return it as-is\r\n    response.responseUrl = this._currentUrl;\r\n    response.redirects = this._redirects;\r\n    this.emit(\"response\", response);\r\n\r\n    // Clean up\r\n    this._requestBodyBuffers = [];\r\n  }\r\n};\r\n\r\n// Wraps the key/value object of protocols with redirect functionality\r\nfunction wrap(protocols) {\r\n  // Default settings\r\n  var exports = {\r\n    maxRedirects: 21,\r\n    maxBodyLength: 10 * 1024 * 1024,\r\n  };\r\n\r\n  // Wrap each protocol\r\n  var nativeProtocols = {};\r\n  Object.keys(protocols).forEach(function (scheme) {\r\n    var protocol = scheme + \":\";\r\n    var nativeProtocol = nativeProtocols[protocol] = protocols[scheme];\r\n    var wrappedProtocol = exports[scheme] = Object.create(nativeProtocol);\r\n\r\n    // Executes a request, following redirects\r\n    wrappedProtocol.request = function (options, callback) {\r\n      if (typeof options === \"string\") {\r\n        options = url.parse(options);\r\n        options.maxRedirects = exports.maxRedirects;\r\n      }\r\n      else {\r\n        options = Object.assign({\r\n          protocol: protocol,\r\n          maxRedirects: exports.maxRedirects,\r\n          maxBodyLength: exports.maxBodyLength,\r\n        }, options);\r\n      }\r\n      options.nativeProtocols = nativeProtocols;\r\n      assert.equal(options.protocol, protocol, \"protocol mismatch\");\r\n      debug(\"options\", options);\r\n      return new RedirectableRequest(options, callback);\r\n    };\r\n\r\n    // Executes a GET request, following redirects\r\n    wrappedProtocol.get = function (options, callback) {\r\n      var request = wrappedProtocol.request(options, callback);\r\n      request.end();\r\n      return request;\r\n    };\r\n  });\r\n  return exports;\r\n}\r\n\r\n// Exports\r\nmodule.exports = wrap({ http: http, https: https });\r\nmodule.exports.wrap = wrap;\r\n",null,"'use strict';\r\n\r\nvar utils = require('./../utils');\r\nvar settle = require('./../core/settle');\r\nvar buildURL = require('./../helpers/buildURL');\r\nvar http = require('http');\r\nvar https = require('https');\r\nvar httpFollow = require('follow-redirects').http;\r\nvar httpsFollow = require('follow-redirects').https;\r\nvar url = require('url');\r\nvar zlib = require('zlib');\r\nvar pkg = require('./../../package.json');\r\nvar createError = require('../core/createError');\r\nvar enhanceError = require('../core/enhanceError');\r\n\r\n/*eslint consistent-return:0*/\r\nmodule.exports = function httpAdapter(config) {\r\n  return new Promise(function dispatchHttpRequest(resolve, reject) {\r\n    var data = config.data;\r\n    var headers = config.headers;\r\n    var timer;\r\n\r\n    // Set User-Agent (required by some servers)\r\n    // Only set header if it hasn't been set in config\r\n    // See https://github.com/axios/axios/issues/69\r\n    if (!headers['User-Agent'] && !headers['user-agent']) {\r\n      headers['User-Agent'] = 'axios/' + pkg.version;\r\n    }\r\n\r\n    if (data && !utils.isStream(data)) {\r\n      if (Buffer.isBuffer(data)) {\r\n        // Nothing to do...\r\n      } else if (utils.isArrayBuffer(data)) {\r\n        data = new Buffer(new Uint8Array(data));\r\n      } else if (utils.isString(data)) {\r\n        data = new Buffer(data, 'utf-8');\r\n      } else {\r\n        return reject(createError(\r\n          'Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream',\r\n          config\r\n        ));\r\n      }\r\n\r\n      // Add Content-Length header if data exists\r\n      headers['Content-Length'] = data.length;\r\n    }\r\n\r\n    // HTTP basic authentication\r\n    var auth = undefined;\r\n    if (config.auth) {\r\n      var username = config.auth.username || '';\r\n      var password = config.auth.password || '';\r\n      auth = username + ':' + password;\r\n    }\r\n\r\n    // Parse url\r\n    var parsed = url.parse(config.url);\r\n    var protocol = parsed.protocol || 'http:';\r\n\r\n    if (!auth && parsed.auth) {\r\n      var urlAuth = parsed.auth.split(':');\r\n      var urlUsername = urlAuth[0] || '';\r\n      var urlPassword = urlAuth[1] || '';\r\n      auth = urlUsername + ':' + urlPassword;\r\n    }\r\n\r\n    if (auth) {\r\n      delete headers.Authorization;\r\n    }\r\n\r\n    var isHttps = protocol === 'https:';\r\n    var agent = isHttps ? config.httpsAgent : config.httpAgent;\r\n\r\n    var options = {\r\n      path: buildURL(parsed.path, config.params, config.paramsSerializer).replace(/^\\?/, ''),\r\n      method: config.method,\r\n      headers: headers,\r\n      agent: agent,\r\n      auth: auth\r\n    };\r\n\r\n    if (config.socketPath) {\r\n      options.socketPath = config.socketPath;\r\n    } else {\r\n      options.hostname = parsed.hostname;\r\n      options.port = parsed.port;\r\n    }\r\n\r\n    var proxy = config.proxy;\r\n    if (!proxy && proxy !== false) {\r\n      var proxyEnv = protocol.slice(0, -1) + '_proxy';\r\n      var proxyUrl = process.env[proxyEnv] || process.env[proxyEnv.toUpperCase()];\r\n      if (proxyUrl) {\r\n        var parsedProxyUrl = url.parse(proxyUrl);\r\n        proxy = {\r\n          host: parsedProxyUrl.hostname,\r\n          port: parsedProxyUrl.port\r\n        };\r\n\r\n        if (parsedProxyUrl.auth) {\r\n          var proxyUrlAuth = parsedProxyUrl.auth.split(':');\r\n          proxy.auth = {\r\n            username: proxyUrlAuth[0],\r\n            password: proxyUrlAuth[1]\r\n          };\r\n        }\r\n      }\r\n    }\r\n\r\n    if (proxy) {\r\n      options.hostname = proxy.host;\r\n      options.host = proxy.host;\r\n      options.headers.host = parsed.hostname + (parsed.port ? ':' + parsed.port : '');\r\n      options.port = proxy.port;\r\n      options.path = protocol + '//' + parsed.hostname + (parsed.port ? ':' + parsed.port : '') + options.path;\r\n\r\n      // Basic proxy authorization\r\n      if (proxy.auth) {\r\n        var base64 = new Buffer(proxy.auth.username + ':' + proxy.auth.password, 'utf8').toString('base64');\r\n        options.headers['Proxy-Authorization'] = 'Basic ' + base64;\r\n      }\r\n    }\r\n\r\n    var transport;\r\n    if (config.transport) {\r\n      transport = config.transport;\r\n    } else if (config.maxRedirects === 0) {\r\n      transport = isHttps ? https : http;\r\n    } else {\r\n      if (config.maxRedirects) {\r\n        options.maxRedirects = config.maxRedirects;\r\n      }\r\n      transport = isHttps ? httpsFollow : httpFollow;\r\n    }\r\n\r\n    if (config.maxContentLength && config.maxContentLength > -1) {\r\n      options.maxBodyLength = config.maxContentLength;\r\n    }\r\n\r\n    // Create the request\r\n    var req = transport.request(options, function handleResponse(res) {\r\n      if (req.aborted) return;\r\n\r\n      // Response has been received so kill timer that handles request timeout\r\n      clearTimeout(timer);\r\n      timer = null;\r\n\r\n      // uncompress the response body transparently if required\r\n      var stream = res;\r\n      switch (res.headers['content-encoding']) {\r\n      /*eslint default-case:0*/\r\n      case 'gzip':\r\n      case 'compress':\r\n      case 'deflate':\r\n        // add the unzipper to the body stream processing pipeline\r\n        stream = stream.pipe(zlib.createUnzip());\r\n\r\n        // remove the content-encoding in order to not confuse downstream operations\r\n        delete res.headers['content-encoding'];\r\n        break;\r\n      }\r\n\r\n      // return the last request in case of redirects\r\n      var lastRequest = res.req || req;\r\n\r\n      var response = {\r\n        status: res.statusCode,\r\n        statusText: res.statusMessage,\r\n        headers: res.headers,\r\n        config: config,\r\n        request: lastRequest\r\n      };\r\n\r\n      if (config.responseType === 'stream') {\r\n        response.data = stream;\r\n        settle(resolve, reject, response);\r\n      } else {\r\n        var responseBuffer = [];\r\n        stream.on('data', function handleStreamData(chunk) {\r\n          responseBuffer.push(chunk);\r\n\r\n          // make sure the content length is not over the maxContentLength if specified\r\n          if (config.maxContentLength > -1 && Buffer.concat(responseBuffer).length > config.maxContentLength) {\r\n            reject(createError('maxContentLength size of ' + config.maxContentLength + ' exceeded',\r\n              config, null, lastRequest));\r\n          }\r\n        });\r\n\r\n        stream.on('error', function handleStreamError(err) {\r\n          if (req.aborted) return;\r\n          reject(enhanceError(err, config, null, lastRequest));\r\n        });\r\n\r\n        stream.on('end', function handleStreamEnd() {\r\n          var responseData = Buffer.concat(responseBuffer);\r\n          if (config.responseType !== 'arraybuffer') {\r\n            responseData = responseData.toString('utf8');\r\n          }\r\n\r\n          response.data = responseData;\r\n          settle(resolve, reject, response);\r\n        });\r\n      }\r\n    });\r\n\r\n    // Handle errors\r\n    req.on('error', function handleRequestError(err) {\r\n      if (req.aborted) return;\r\n      reject(enhanceError(err, config, null, req));\r\n    });\r\n\r\n    // Handle request timeout\r\n    if (config.timeout && !timer) {\r\n      timer = setTimeout(function handleRequestTimeout() {\r\n        req.abort();\r\n        reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED', req));\r\n      }, config.timeout);\r\n    }\r\n\r\n    if (config.cancelToken) {\r\n      // Handle cancellation\r\n      config.cancelToken.promise.then(function onCanceled(cancel) {\r\n        if (req.aborted) return;\r\n\r\n        req.abort();\r\n        reject(cancel);\r\n      });\r\n    }\r\n\r\n    // Send the request\r\n    if (utils.isStream(data)) {\r\n      data.pipe(req);\r\n    } else {\r\n      req.end(data);\r\n    }\r\n  });\r\n};\r\n","'use strict';\r\n\r\nvar utils = require('./utils');\r\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\r\n\r\nvar DEFAULT_CONTENT_TYPE = {\r\n  'Content-Type': 'application/x-www-form-urlencoded'\r\n};\r\n\r\nfunction setContentTypeIfUnset(headers, value) {\r\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\r\n    headers['Content-Type'] = value;\r\n  }\r\n}\r\n\r\nfunction getDefaultAdapter() {\r\n  var adapter;\r\n  if (typeof XMLHttpRequest !== 'undefined') {\r\n    // For browsers use XHR adapter\r\n    adapter = require('./adapters/xhr');\r\n  } else if (typeof process !== 'undefined') {\r\n    // For node use HTTP adapter\r\n    adapter = require('./adapters/http');\r\n  }\r\n  return adapter;\r\n}\r\n\r\nvar defaults = {\r\n  adapter: getDefaultAdapter(),\r\n\r\n  transformRequest: [function transformRequest(data, headers) {\r\n    normalizeHeaderName(headers, 'Content-Type');\r\n    if (utils.isFormData(data) ||\r\n      utils.isArrayBuffer(data) ||\r\n      utils.isBuffer(data) ||\r\n      utils.isStream(data) ||\r\n      utils.isFile(data) ||\r\n      utils.isBlob(data)\r\n    ) {\r\n      return data;\r\n    }\r\n    if (utils.isArrayBufferView(data)) {\r\n      return data.buffer;\r\n    }\r\n    if (utils.isURLSearchParams(data)) {\r\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\r\n      return data.toString();\r\n    }\r\n    if (utils.isObject(data)) {\r\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\r\n      return JSON.stringify(data);\r\n    }\r\n    return data;\r\n  }],\r\n\r\n  transformResponse: [function transformResponse(data) {\r\n    /*eslint no-param-reassign:0*/\r\n    if (typeof data === 'string') {\r\n      try {\r\n        data = JSON.parse(data);\r\n      } catch (e) { /* Ignore */ }\r\n    }\r\n    return data;\r\n  }],\r\n\r\n  /**\r\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\r\n   * timeout is not created.\r\n   */\r\n  timeout: 0,\r\n\r\n  xsrfCookieName: 'XSRF-TOKEN',\r\n  xsrfHeaderName: 'X-XSRF-TOKEN',\r\n\r\n  maxContentLength: -1,\r\n\r\n  validateStatus: function validateStatus(status) {\r\n    return status >= 200 && status < 300;\r\n  }\r\n};\r\n\r\ndefaults.headers = {\r\n  common: {\r\n    'Accept': 'application/json, text/plain, */*'\r\n  }\r\n};\r\n\r\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\r\n  defaults.headers[method] = {};\r\n});\r\n\r\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\r\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\r\n});\r\n\r\nmodule.exports = defaults;\r\n","'use strict';\r\n\r\nvar utils = require('./../utils');\r\n\r\nfunction InterceptorManager() {\r\n  this.handlers = [];\r\n}\r\n\r\n/**\r\n * Add a new interceptor to the stack\r\n *\r\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\r\n * @param {Function} rejected The function to handle `reject` for a `Promise`\r\n *\r\n * @return {Number} An ID used to remove interceptor later\r\n */\r\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\r\n  this.handlers.push({\r\n    fulfilled: fulfilled,\r\n    rejected: rejected\r\n  });\r\n  return this.handlers.length - 1;\r\n};\r\n\r\n/**\r\n * Remove an interceptor from the stack\r\n *\r\n * @param {Number} id The ID that was returned by `use`\r\n */\r\nInterceptorManager.prototype.eject = function eject(id) {\r\n  if (this.handlers[id]) {\r\n    this.handlers[id] = null;\r\n  }\r\n};\r\n\r\n/**\r\n * Iterate over all the registered interceptors\r\n *\r\n * This method is particularly useful for skipping over any\r\n * interceptors that may have become `null` calling `eject`.\r\n *\r\n * @param {Function} fn The function to call for each interceptor\r\n */\r\nInterceptorManager.prototype.forEach = function forEach(fn) {\r\n  utils.forEach(this.handlers, function forEachHandler(h) {\r\n    if (h !== null) {\r\n      fn(h);\r\n    }\r\n  });\r\n};\r\n\r\nmodule.exports = InterceptorManager;\r\n","'use strict';\r\n\r\nvar utils = require('./../utils');\r\n\r\n/**\r\n * Transform the data for a request or a response\r\n *\r\n * @param {Object|String} data The data to be transformed\r\n * @param {Array} headers The headers for the request or response\r\n * @param {Array|Function} fns A single function or Array of functions\r\n * @returns {*} The resulting transformed data\r\n */\r\nmodule.exports = function transformData(data, headers, fns) {\r\n  /*eslint no-param-reassign:0*/\r\n  utils.forEach(fns, function transform(fn) {\r\n    data = fn(data, headers);\r\n  });\r\n\r\n  return data;\r\n};\r\n","'use strict';\r\n\r\nmodule.exports = function isCancel(value) {\r\n  return !!(value && value.__CANCEL__);\r\n};\r\n","'use strict';\r\n\r\n/**\r\n * Determines whether the specified URL is absolute\r\n *\r\n * @param {string} url The URL to test\r\n * @returns {boolean} True if the specified URL is absolute, otherwise false\r\n */\r\nmodule.exports = function isAbsoluteURL(url) {\r\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\r\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\r\n  // by any combination of letters, digits, plus, period, or hyphen.\r\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\r\n};\r\n","'use strict';\r\n\r\n/**\r\n * Creates a new URL by combining the specified URLs\r\n *\r\n * @param {string} baseURL The base URL\r\n * @param {string} relativeURL The relative URL\r\n * @returns {string} The combined URL\r\n */\r\nmodule.exports = function combineURLs(baseURL, relativeURL) {\r\n  return relativeURL\r\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\r\n    : baseURL;\r\n};\r\n","'use strict';\r\n\r\nvar utils = require('./../utils');\r\nvar transformData = require('./transformData');\r\nvar isCancel = require('../cancel/isCancel');\r\nvar defaults = require('../defaults');\r\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\r\nvar combineURLs = require('./../helpers/combineURLs');\r\n\r\n/**\r\n * Throws a `Cancel` if cancellation has been requested.\r\n */\r\nfunction throwIfCancellationRequested(config) {\r\n  if (config.cancelToken) {\r\n    config.cancelToken.throwIfRequested();\r\n  }\r\n}\r\n\r\n/**\r\n * Dispatch a request to the server using the configured adapter.\r\n *\r\n * @param {object} config The config that is to be used for the request\r\n * @returns {Promise} The Promise to be fulfilled\r\n */\r\nmodule.exports = function dispatchRequest(config) {\r\n  throwIfCancellationRequested(config);\r\n\r\n  // Support baseURL config\r\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\r\n    config.url = combineURLs(config.baseURL, config.url);\r\n  }\r\n\r\n  // Ensure headers exist\r\n  config.headers = config.headers || {};\r\n\r\n  // Transform request data\r\n  config.data = transformData(\r\n    config.data,\r\n    config.headers,\r\n    config.transformRequest\r\n  );\r\n\r\n  // Flatten headers\r\n  config.headers = utils.merge(\r\n    config.headers.common || {},\r\n    config.headers[config.method] || {},\r\n    config.headers || {}\r\n  );\r\n\r\n  utils.forEach(\r\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\r\n    function cleanHeaderConfig(method) {\r\n      delete config.headers[method];\r\n    }\r\n  );\r\n\r\n  var adapter = config.adapter || defaults.adapter;\r\n\r\n  return adapter(config).then(function onAdapterResolution(response) {\r\n    throwIfCancellationRequested(config);\r\n\r\n    // Transform response data\r\n    response.data = transformData(\r\n      response.data,\r\n      response.headers,\r\n      config.transformResponse\r\n    );\r\n\r\n    return response;\r\n  }, function onAdapterRejection(reason) {\r\n    if (!isCancel(reason)) {\r\n      throwIfCancellationRequested(config);\r\n\r\n      // Transform response data\r\n      if (reason && reason.response) {\r\n        reason.response.data = transformData(\r\n          reason.response.data,\r\n          reason.response.headers,\r\n          config.transformResponse\r\n        );\r\n      }\r\n    }\r\n\r\n    return Promise.reject(reason);\r\n  });\r\n};\r\n","'use strict';\r\n\r\nvar defaults = require('./../defaults');\r\nvar utils = require('./../utils');\r\nvar InterceptorManager = require('./InterceptorManager');\r\nvar dispatchRequest = require('./dispatchRequest');\r\n\r\n/**\r\n * Create a new instance of Axios\r\n *\r\n * @param {Object} instanceConfig The default config for the instance\r\n */\r\nfunction Axios(instanceConfig) {\r\n  this.defaults = instanceConfig;\r\n  this.interceptors = {\r\n    request: new InterceptorManager(),\r\n    response: new InterceptorManager()\r\n  };\r\n}\r\n\r\n/**\r\n * Dispatch a request\r\n *\r\n * @param {Object} config The config specific for this request (merged with this.defaults)\r\n */\r\nAxios.prototype.request = function request(config) {\r\n  /*eslint no-param-reassign:0*/\r\n  // Allow for axios('example/url'[, config]) a la fetch API\r\n  if (typeof config === 'string') {\r\n    config = utils.merge({\r\n      url: arguments[0]\r\n    }, arguments[1]);\r\n  }\r\n\r\n  config = utils.merge(defaults, {method: 'get'}, this.defaults, config);\r\n  config.method = config.method.toLowerCase();\r\n\r\n  // Hook up interceptors middleware\r\n  var chain = [dispatchRequest, undefined];\r\n  var promise = Promise.resolve(config);\r\n\r\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\r\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\r\n  });\r\n\r\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\r\n    chain.push(interceptor.fulfilled, interceptor.rejected);\r\n  });\r\n\r\n  while (chain.length) {\r\n    promise = promise.then(chain.shift(), chain.shift());\r\n  }\r\n\r\n  return promise;\r\n};\r\n\r\n// Provide aliases for supported request methods\r\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\r\n  /*eslint func-names:0*/\r\n  Axios.prototype[method] = function(url, config) {\r\n    return this.request(utils.merge(config || {}, {\r\n      method: method,\r\n      url: url\r\n    }));\r\n  };\r\n});\r\n\r\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\r\n  /*eslint func-names:0*/\r\n  Axios.prototype[method] = function(url, data, config) {\r\n    return this.request(utils.merge(config || {}, {\r\n      method: method,\r\n      url: url,\r\n      data: data\r\n    }));\r\n  };\r\n});\r\n\r\nmodule.exports = Axios;\r\n","'use strict';\r\n\r\n/**\r\n * A `Cancel` is an object that is thrown when an operation is canceled.\r\n *\r\n * @class\r\n * @param {string=} message The message.\r\n */\r\nfunction Cancel(message) {\r\n  this.message = message;\r\n}\r\n\r\nCancel.prototype.toString = function toString() {\r\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\r\n};\r\n\r\nCancel.prototype.__CANCEL__ = true;\r\n\r\nmodule.exports = Cancel;\r\n","'use strict';\r\n\r\nvar Cancel = require('./Cancel');\r\n\r\n/**\r\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\r\n *\r\n * @class\r\n * @param {Function} executor The executor function.\r\n */\r\nfunction CancelToken(executor) {\r\n  if (typeof executor !== 'function') {\r\n    throw new TypeError('executor must be a function.');\r\n  }\r\n\r\n  var resolvePromise;\r\n  this.promise = new Promise(function promiseExecutor(resolve) {\r\n    resolvePromise = resolve;\r\n  });\r\n\r\n  var token = this;\r\n  executor(function cancel(message) {\r\n    if (token.reason) {\r\n      // Cancellation has already been requested\r\n      return;\r\n    }\r\n\r\n    token.reason = new Cancel(message);\r\n    resolvePromise(token.reason);\r\n  });\r\n}\r\n\r\n/**\r\n * Throws a `Cancel` if cancellation has been requested.\r\n */\r\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\r\n  if (this.reason) {\r\n    throw this.reason;\r\n  }\r\n};\r\n\r\n/**\r\n * Returns an object that contains a new `CancelToken` and a function that, when called,\r\n * cancels the `CancelToken`.\r\n */\r\nCancelToken.source = function source() {\r\n  var cancel;\r\n  var token = new CancelToken(function executor(c) {\r\n    cancel = c;\r\n  });\r\n  return {\r\n    token: token,\r\n    cancel: cancel\r\n  };\r\n};\r\n\r\nmodule.exports = CancelToken;\r\n","'use strict';\r\n\r\n/**\r\n * Syntactic sugar for invoking a function and expanding an array for arguments.\r\n *\r\n * Common use case would be to use `Function.prototype.apply`.\r\n *\r\n *  ```js\r\n *  function f(x, y, z) {}\r\n *  var args = [1, 2, 3];\r\n *  f.apply(null, args);\r\n *  ```\r\n *\r\n * With `spread` this example can be re-written.\r\n *\r\n *  ```js\r\n *  spread(function(x, y, z) {})([1, 2, 3]);\r\n *  ```\r\n *\r\n * @param {Function} callback\r\n * @returns {Function}\r\n */\r\nmodule.exports = function spread(callback) {\r\n  return function wrap(arr) {\r\n    return callback.apply(null, arr);\r\n  };\r\n};\r\n","'use strict';\r\n\r\nvar utils = require('./utils');\r\nvar bind = require('./helpers/bind');\r\nvar Axios = require('./core/Axios');\r\nvar defaults = require('./defaults');\r\n\r\n/**\r\n * Create an instance of Axios\r\n *\r\n * @param {Object} defaultConfig The default config for the instance\r\n * @return {Axios} A new instance of Axios\r\n */\r\nfunction createInstance(defaultConfig) {\r\n  var context = new Axios(defaultConfig);\r\n  var instance = bind(Axios.prototype.request, context);\r\n\r\n  // Copy axios.prototype to instance\r\n  utils.extend(instance, Axios.prototype, context);\r\n\r\n  // Copy context to instance\r\n  utils.extend(instance, context);\r\n\r\n  return instance;\r\n}\r\n\r\n// Create the default instance to be exported\r\nvar axios = createInstance(defaults);\r\n\r\n// Expose Axios class to allow class inheritance\r\naxios.Axios = Axios;\r\n\r\n// Factory for creating new instances\r\naxios.create = function create(instanceConfig) {\r\n  return createInstance(utils.merge(defaults, instanceConfig));\r\n};\r\n\r\n// Expose Cancel & CancelToken\r\naxios.Cancel = require('./cancel/Cancel');\r\naxios.CancelToken = require('./cancel/CancelToken');\r\naxios.isCancel = require('./cancel/isCancel');\r\n\r\n// Expose all/spread\r\naxios.all = function all(promises) {\r\n  return Promise.all(promises);\r\n};\r\naxios.spread = require('./helpers/spread');\r\n\r\nmodule.exports = axios;\r\n\r\n// Allow use of default import syntax in TypeScript\r\nmodule.exports.default = axios;\r\n","module.exports = require('./lib/axios');","exports.require = function() {\r\n  var fs = require(\"fs\");\r\n  if (process.versions['electron']) {\r\n\t  try {\r\n\t    originalFs = require(\"original-fs\");\r\n\t    if (Object.keys(originalFs).length > 0) {\r\n\t      fs = originalFs;\r\n      }\r\n\t  } catch (e) {}\r\n  }\r\n  return fs\r\n};\r\n","module.exports = {\r\n    /* The local file header */\r\n    LOCHDR           : 30, // LOC header size\r\n    LOCSIG           : 0x04034b50, // \"PK\\003\\004\"\r\n    LOCVER           : 4,\t// version needed to extract\r\n    LOCFLG           : 6, // general purpose bit flag\r\n    LOCHOW           : 8, // compression method\r\n    LOCTIM           : 10, // modification time (2 bytes time, 2 bytes date)\r\n    LOCCRC           : 14, // uncompressed file crc-32 value\r\n    LOCSIZ           : 18, // compressed size\r\n    LOCLEN           : 22, // uncompressed size\r\n    LOCNAM           : 26, // filename length\r\n    LOCEXT           : 28, // extra field length\r\n\r\n    /* The Data descriptor */\r\n    EXTSIG           : 0x08074b50, // \"PK\\007\\008\"\r\n    EXTHDR           : 16, // EXT header size\r\n    EXTCRC           : 4, // uncompressed file crc-32 value\r\n    EXTSIZ           : 8, // compressed size\r\n    EXTLEN           : 12, // uncompressed size\r\n\r\n    /* The central directory file header */\r\n    CENHDR           : 46, // CEN header size\r\n    CENSIG           : 0x02014b50, // \"PK\\001\\002\"\r\n    CENVEM           : 4, // version made by\r\n    CENVER           : 6, // version needed to extract\r\n    CENFLG           : 8, // encrypt, decrypt flags\r\n    CENHOW           : 10, // compression method\r\n    CENTIM           : 12, // modification time (2 bytes time, 2 bytes date)\r\n    CENCRC           : 16, // uncompressed file crc-32 value\r\n    CENSIZ           : 20, // compressed size\r\n    CENLEN           : 24, // uncompressed size\r\n    CENNAM           : 28, // filename length\r\n    CENEXT           : 30, // extra field length\r\n    CENCOM           : 32, // file comment length\r\n    CENDSK           : 34, // volume number start\r\n    CENATT           : 36, // internal file attributes\r\n    CENATX           : 38, // external file attributes (host system dependent)\r\n    CENOFF           : 42, // LOC header offset\r\n\r\n    /* The entries in the end of central directory */\r\n    ENDHDR           : 22, // END header size\r\n    ENDSIG           : 0x06054b50, // \"PK\\005\\006\"\r\n    ENDSUB           : 8, // number of entries on this disk\r\n    ENDTOT           : 10, // total number of entries\r\n    ENDSIZ           : 12, // central directory size in bytes\r\n    ENDOFF           : 16, // offset of first CEN header\r\n    ENDCOM           : 20, // zip file comment length\r\n\r\n    /* Compression methods */\r\n    STORED           : 0, // no compression\r\n    SHRUNK           : 1, // shrunk\r\n    REDUCED1         : 2, // reduced with compression factor 1\r\n    REDUCED2         : 3, // reduced with compression factor 2\r\n    REDUCED3         : 4, // reduced with compression factor 3\r\n    REDUCED4         : 5, // reduced with compression factor 4\r\n    IMPLODED         : 6, // imploded\r\n    // 7 reserved\r\n    DEFLATED         : 8, // deflated\r\n    ENHANCED_DEFLATED: 9, // enhanced deflated\r\n    PKWARE           : 10,// PKWare DCL imploded\r\n    // 11 reserved\r\n    BZIP2            : 12, //  compressed using BZIP2\r\n    // 13 reserved\r\n    LZMA             : 14, // LZMA\r\n    // 15-17 reserved\r\n    IBM_TERSE        : 18, // compressed using IBM TERSE\r\n    IBM_LZ77         : 19, //IBM LZ77 z\r\n\r\n    /* General purpose bit flag */\r\n    FLG_ENC          : 0,  // encripted file\r\n    FLG_COMP1        : 1,  // compression option\r\n    FLG_COMP2        : 2,  // compression option\r\n    FLG_DESC         : 4,  // data descriptor\r\n    FLG_ENH          : 8,  // enhanced deflation\r\n    FLG_STR          : 16, // strong encryption\r\n    FLG_LNG          : 1024, // language encoding\r\n    FLG_MSK          : 4096, // mask header values\r\n\r\n    /* Load type */\r\n    FILE             : 0,\r\n    BUFFER           : 1,\r\n    NONE             : 2,\r\n\r\n    /* 4.5 Extensible data fields */\r\n    EF_ID            : 0,\r\n    EF_SIZE          : 2,\r\n\r\n    /* Header IDs */\r\n    ID_ZIP64         : 0x0001,\r\n    ID_AVINFO        : 0x0007,\r\n    ID_PFS           : 0x0008,\r\n    ID_OS2           : 0x0009,\r\n    ID_NTFS          : 0x000a,\r\n    ID_OPENVMS       : 0x000c,\r\n    ID_UNIX          : 0x000d,\r\n    ID_FORK          : 0x000e,\r\n    ID_PATCH         : 0x000f,\r\n    ID_X509_PKCS7    : 0x0014,\r\n    ID_X509_CERTID_F : 0x0015,\r\n    ID_X509_CERTID_C : 0x0016,\r\n    ID_STRONGENC     : 0x0017,\r\n    ID_RECORD_MGT    : 0x0018,\r\n    ID_X509_PKCS7_RL : 0x0019,\r\n    ID_IBM1          : 0x0065,\r\n    ID_IBM2          : 0x0066,\r\n    ID_POSZIP        : 0x4690,\r\n\r\n    EF_ZIP64_OR_32   : 0xffffffff,\r\n    EF_ZIP64_OR_16   : 0xffff,\r\n    EF_ZIP64_SUNCOMP : 0,\r\n    EF_ZIP64_SCOMP   : 8,\r\n    EF_ZIP64_RHO     : 16,\r\n    EF_ZIP64_DSN     : 24\r\n};\r\n","module.exports = {\r\n    /* Header error messages */\r\n    \"INVALID_LOC\" : \"Invalid LOC header (bad signature)\",\r\n    \"INVALID_CEN\" : \"Invalid CEN header (bad signature)\",\r\n    \"INVALID_END\" : \"Invalid END header (bad signature)\",\r\n\r\n    /* ZipEntry error messages*/\r\n    \"NO_DATA\" : \"Nothing to decompress\",\r\n    \"BAD_CRC\" : \"CRC32 checksum failed\",\r\n    \"FILE_IN_THE_WAY\" : \"There is a file in the way: %s\",\r\n    \"UNKNOWN_METHOD\" : \"Invalid/unsupported compression method\",\r\n\r\n    /* Inflater error messages */\r\n    \"AVAIL_DATA\" : \"inflate::Available inflate data did not terminate\",\r\n    \"INVALID_DISTANCE\" : \"inflate::Invalid literal/length or distance code in fixed or dynamic block\",\r\n    \"TO_MANY_CODES\" : \"inflate::Dynamic block code description: too many length or distance codes\",\r\n    \"INVALID_REPEAT_LEN\" : \"inflate::Dynamic block code description: repeat more than specified lengths\",\r\n    \"INVALID_REPEAT_FIRST\" : \"inflate::Dynamic block code description: repeat lengths with no first length\",\r\n    \"INCOMPLETE_CODES\" : \"inflate::Dynamic block code description: code lengths codes incomplete\",\r\n    \"INVALID_DYN_DISTANCE\": \"inflate::Dynamic block code description: invalid distance code lengths\",\r\n    \"INVALID_CODES_LEN\": \"inflate::Dynamic block code description: invalid literal/length code lengths\",\r\n    \"INVALID_STORE_BLOCK\" : \"inflate::Stored block length did not match one's complement\",\r\n    \"INVALID_BLOCK_TYPE\" : \"inflate::Invalid block type (type == 3)\",\r\n\r\n    /* ADM-ZIP error messages */\r\n    \"CANT_EXTRACT_FILE\" : \"Could not extract the file\",\r\n    \"CANT_OVERRIDE\" : \"Target file already exists\",\r\n    \"NO_ZIP\" : \"No zip file was loaded\",\r\n    \"NO_ENTRY\" : \"Entry doesn't exist\",\r\n    \"DIRECTORY_CONTENT_ERROR\" : \"A directory cannot have content\",\r\n    \"FILE_NOT_FOUND\" : \"File not found: %s\",\r\n    \"NOT_IMPLEMENTED\" : \"Not implemented\",\r\n    \"INVALID_FILENAME\" : \"Invalid filename\",\r\n    \"INVALID_FORMAT\" : \"Invalid or unsupported zip format. No END header found\"\r\n};","var fs = require(\"./fileSystem\").require(),\r\n    pth = require('path');\r\n\r\nfs.existsSync = fs.existsSync || pth.existsSync;\r\n\r\nmodule.exports = (function() {\r\n\r\n    var crcTable = [],\r\n        Constants = require('./constants'),\r\n        Errors = require('./errors'),\r\n\r\n        PATH_SEPARATOR = pth.sep;\r\n\r\n\r\n    function mkdirSync(/*String*/path) {\r\n        var resolvedPath = path.split(PATH_SEPARATOR)[0];\r\n        path.split(PATH_SEPARATOR).forEach(function(name) {\r\n            if (!name || name.substr(-1,1) === \":\") return;\r\n            resolvedPath += PATH_SEPARATOR + name;\r\n            var stat;\r\n            try {\r\n                stat = fs.statSync(resolvedPath);\r\n            } catch (e) {\r\n                fs.mkdirSync(resolvedPath);\r\n            }\r\n            if (stat && stat.isFile())\r\n                throw Errors.FILE_IN_THE_WAY.replace(\"%s\", resolvedPath);\r\n        });\r\n    }\r\n\r\n    function findSync(/*String*/dir, /*RegExp*/pattern, /*Boolean*/recoursive) {\r\n        if (typeof pattern === 'boolean') {\r\n            recoursive = pattern;\r\n            pattern = undefined;\r\n        }\r\n        var files = [];\r\n        fs.readdirSync(dir).forEach(function(file) {\r\n            var path = pth.join(dir, file);\r\n\r\n            if (fs.statSync(path).isDirectory() && recoursive)\r\n                files = files.concat(findSync(path, pattern, recoursive));\r\n\r\n            if (!pattern || pattern.test(path)) {\r\n                files.push(pth.normalize(path) + (fs.statSync(path).isDirectory() ? PATH_SEPARATOR : \"\"));\r\n            }\r\n\r\n        });\r\n        return files;\r\n    }\r\n\r\n    return {\r\n        makeDir : function(/*String*/path) {\r\n            mkdirSync(path);\r\n        },\r\n\r\n        crc32 : function(buf) {\r\n            if (typeof buf === 'string') {\r\n                buf = Buffer.alloc(buf.length, buf);\r\n            }\r\n            var b = Buffer.alloc(4);\r\n            if (!crcTable.length) {\r\n                for (var n = 0; n < 256; n++) {\r\n                    var c = n;\r\n                    for (var k = 8; --k >= 0;)  //\r\n                        if ((c & 1) !== 0)  { c = 0xedb88320 ^ (c >>> 1); } else { c = c >>> 1; }\r\n                    if (c < 0) {\r\n                        b.writeInt32LE(c, 0);\r\n                        c = b.readUInt32LE(0);\r\n                    }\r\n                    crcTable[n] = c;\r\n                }\r\n            }\r\n            var crc = 0, off = 0, len = buf.length, c1 = ~crc;\r\n            while(--len >= 0) c1 = crcTable[(c1 ^ buf[off++]) & 0xff] ^ (c1 >>> 8);\r\n            crc = ~c1;\r\n            b.writeInt32LE(crc & 0xffffffff, 0);\r\n            return b.readUInt32LE(0);\r\n        },\r\n\r\n        methodToString : function(/*Number*/method) {\r\n            switch (method) {\r\n                case Constants.STORED:\r\n                    return 'STORED (' + method + ')';\r\n                case Constants.DEFLATED:\r\n                    return 'DEFLATED (' + method + ')';\r\n                default:\r\n                    return 'UNSUPPORTED (' + method + ')';\r\n            }\r\n\r\n        },\r\n\r\n        writeFileTo : function(/*String*/path, /*Buffer*/content, /*Boolean*/overwrite, /*Number*/attr) {\r\n            if (fs.existsSync(path)) {\r\n                if (!overwrite)\r\n                    return false; // cannot overwrite\r\n\r\n                var stat = fs.statSync(path);\r\n                if (stat.isDirectory()) {\r\n                    return false;\r\n                }\r\n            }\r\n            var folder = pth.dirname(path);\r\n            if (!fs.existsSync(folder)) {\r\n                mkdirSync(folder);\r\n            }\r\n\r\n            var fd;\r\n            try {\r\n                fd = fs.openSync(path, 'w', 438); // 0666\r\n            } catch(e) {\r\n                fs.chmodSync(path, 438);\r\n                fd = fs.openSync(path, 'w', 438);\r\n            }\r\n            if (fd) {\r\n                try {\r\n                    fs.writeSync(fd, content, 0, content.length, 0);\r\n                }\r\n                catch (e){\r\n                    throw e;\r\n                }\r\n                finally {\r\n                    fs.closeSync(fd);\r\n                }\r\n            }\r\n            fs.chmodSync(path, attr || 438);\r\n            return true;\r\n        },\r\n\r\n        writeFileToAsync : function(/*String*/path, /*Buffer*/content, /*Boolean*/overwrite, /*Number*/attr, /*Function*/callback) {\r\n            if(typeof attr === 'function') {\r\n                callback = attr;\r\n                attr = undefined;\r\n            }\r\n\r\n            fs.exists(path, function(exists) {\r\n                if(exists && !overwrite)\r\n                    return callback(false);\r\n\r\n                fs.stat(path, function(err, stat) {\r\n                    if(exists &&stat.isDirectory()) {\r\n                        return callback(false);\r\n                    }\r\n\r\n                    var folder = pth.dirname(path);\r\n                    fs.exists(folder, function(exists) {\r\n                        if(!exists)\r\n                            mkdirSync(folder);\r\n\r\n                        fs.open(path, 'w', 438, function(err, fd) {\r\n                            if(err) {\r\n                                fs.chmod(path, 438, function() {\r\n                                    fs.open(path, 'w', 438, function(err, fd) {\r\n                                        fs.write(fd, content, 0, content.length, 0, function() {\r\n                                            fs.close(fd, function() {\r\n                                                fs.chmod(path, attr || 438, function() {\r\n                                                    callback(true);\r\n                                                })\r\n                                            });\r\n                                        });\r\n                                    });\r\n                                })\r\n                            } else {\r\n                                if(fd) {\r\n                                    fs.write(fd, content, 0, content.length, 0, function() {\r\n                                        fs.close(fd, function() {\r\n                                            fs.chmod(path, attr || 438, function() {\r\n                                                callback(true);\r\n                                            })\r\n                                        });\r\n                                    });\r\n                                } else {\r\n                                    fs.chmod(path, attr || 438, function() {\r\n                                        callback(true);\r\n                                    })\r\n                                }\r\n                            }\r\n                        });\r\n                    })\r\n                })\r\n            })\r\n        },\r\n\r\n        findFiles : function(/*String*/path) {\r\n            return findSync(path, true);\r\n        },\r\n\r\n        getAttributes : function(/*String*/path) {\r\n\r\n        },\r\n\r\n        setAttributes : function(/*String*/path) {\r\n\r\n        },\r\n\r\n        toBuffer : function(input) {\r\n            if (Buffer.isBuffer(input)) {\r\n                return input;\r\n            } else {\r\n                if (input.length === 0) {\r\n                    return Buffer.alloc(0)\r\n                }\r\n                return Buffer.from(input, 'utf8');\r\n            }\r\n        },\r\n\r\n        Constants : Constants,\r\n        Errors : Errors\r\n    }\r\n})();\r\n","var fs = require(\"./fileSystem\").require(),\r\n    pth = require(\"path\");\r\n\t\r\nfs.existsSync = fs.existsSync || pth.existsSync;\r\n\r\nmodule.exports = function(/*String*/path) {\r\n\r\n    var _path = path || \"\",\r\n        _permissions = 0,\r\n        _obj = newAttr(),\r\n        _stat = null;\r\n\r\n    function newAttr() {\r\n        return {\r\n            directory : false,\r\n            readonly : false,\r\n            hidden : false,\r\n            executable : false,\r\n            mtime : 0,\r\n            atime : 0\r\n        }\r\n    }\r\n\r\n    if (_path && fs.existsSync(_path)) {\r\n        _stat = fs.statSync(_path);\r\n        _obj.directory = _stat.isDirectory();\r\n        _obj.mtime = _stat.mtime;\r\n        _obj.atime = _stat.atime;\r\n        _obj.executable = !!(1 & parseInt ((_stat.mode & parseInt (\"777\", 8)).toString (8)[0]));\r\n        _obj.readonly = !!(2 & parseInt ((_stat.mode & parseInt (\"777\", 8)).toString (8)[0]));\r\n        _obj.hidden = pth.basename(_path)[0] === \".\";\r\n    } else {\r\n        console.warn(\"Invalid path: \" + _path)\r\n    }\r\n\r\n    return {\r\n\r\n        get directory () {\r\n            return _obj.directory;\r\n        },\r\n\r\n        get readOnly () {\r\n            return _obj.readonly;\r\n        },\r\n\r\n        get hidden () {\r\n            return _obj.hidden;\r\n        },\r\n\r\n        get mtime () {\r\n            return _obj.mtime;\r\n        },\r\n\r\n        get atime () {\r\n           return _obj.atime;\r\n        },\r\n\r\n\r\n        get executable () {\r\n            return _obj.executable;\r\n        },\r\n\r\n        decodeAttributes : function(val) {\r\n\r\n        },\r\n\r\n        encodeAttributes : function (val) {\r\n\r\n        },\r\n\r\n        toString : function() {\r\n           return '{\\n' +\r\n               '\\t\"path\" : \"' + _path + \",\\n\" +\r\n               '\\t\"isDirectory\" : ' + _obj.directory + \",\\n\" +\r\n               '\\t\"isReadOnly\" : ' + _obj.readonly + \",\\n\" +\r\n               '\\t\"isHidden\" : ' + _obj.hidden + \",\\n\" +\r\n               '\\t\"isExecutable\" : ' + _obj.executable + \",\\n\" +\r\n               '\\t\"mTime\" : ' + _obj.mtime + \"\\n\" +\r\n               '\\t\"aTime\" : ' + _obj.atime + \"\\n\" +\r\n           '}';\r\n        }\r\n    }\r\n\r\n};\r\n","module.exports = require(\"./utils\");\r\nmodule.exports.FileSystem = require(\"./fileSystem\");\r\nmodule.exports.Constants = require(\"./constants\");\r\nmodule.exports.Errors = require(\"./errors\");\r\nmodule.exports.FileAttr = require(\"./fattr\");","var Utils = require(\"../util\"),\r\n    Constants = Utils.Constants;\r\n\r\n/* The central directory file header */\r\nmodule.exports = function () {\r\n    var _verMade = 0x0A,\r\n        _version = 0x0A,\r\n        _flags = 0,\r\n        _method = 0,\r\n        _time = 0,\r\n        _crc = 0,\r\n        _compressedSize = 0,\r\n        _size = 0,\r\n        _fnameLen = 0,\r\n        _extraLen = 0,\r\n\r\n        _comLen = 0,\r\n        _diskStart = 0,\r\n        _inattr = 0,\r\n        _attr = 0,\r\n        _offset = 0;\r\n\r\n    var _dataHeader = {};\r\n\r\n    function setTime(val) {\r\n        val = new Date(val);\r\n        _time = (val.getFullYear() - 1980 & 0x7f) << 25  // b09-16 years from 1980\r\n            | (val.getMonth() + 1) << 21                 // b05-08 month\r\n            | val.getDate() << 16                        // b00-04 hour\r\n\r\n            // 2 bytes time\r\n            | val.getHours() << 11    // b11-15 hour\r\n            | val.getMinutes() << 5   // b05-10 minute\r\n            | val.getSeconds() >> 1;  // b00-04 seconds divided by 2\r\n    }\r\n\r\n    setTime(+new Date());\r\n\r\n    return {\r\n        get made () { return _verMade; },\r\n        set made (val) { _verMade = val; },\r\n\r\n        get version () { return _version; },\r\n        set version (val) { _version = val },\r\n\r\n        get flags () { return _flags },\r\n        set flags (val) { _flags = val; },\r\n\r\n        get method () { return _method; },\r\n        set method (val) { _method = val; },\r\n\r\n        get time () { return new Date(\r\n            ((_time >> 25) & 0x7f) + 1980,\r\n            ((_time >> 21) & 0x0f) - 1,\r\n            (_time >> 16) & 0x1f,\r\n            (_time >> 11) & 0x1f,\r\n            (_time >> 5) & 0x3f,\r\n            (_time & 0x1f) << 1\r\n        );\r\n        },\r\n        set time (val) {\r\n            setTime(val);\r\n        },\r\n\r\n        get crc () { return _crc; },\r\n        set crc (val) { _crc = val; },\r\n\r\n        get compressedSize () { return _compressedSize; },\r\n        set compressedSize (val) { _compressedSize = val; },\r\n\r\n        get size () { return _size; },\r\n        set size (val) { _size = val; },\r\n\r\n        get fileNameLength () { return _fnameLen; },\r\n        set fileNameLength (val) { _fnameLen = val; },\r\n\r\n        get extraLength () { return _extraLen },\r\n        set extraLength (val) { _extraLen = val; },\r\n\r\n        get commentLength () { return _comLen },\r\n        set commentLength (val) { _comLen = val },\r\n\r\n        get diskNumStart () { return _diskStart },\r\n        set diskNumStart (val) { _diskStart = val },\r\n\r\n        get inAttr () { return _inattr },\r\n        set inAttr (val) { _inattr = val },\r\n\r\n        get attr () { return _attr },\r\n        set attr (val) { _attr = val },\r\n\r\n        get offset () { return _offset },\r\n        set offset (val) { _offset = val },\r\n\r\n        get encripted () { return (_flags & 1) === 1 },\r\n\r\n        get entryHeaderSize () {\r\n            return Constants.CENHDR + _fnameLen + _extraLen + _comLen;\r\n        },\r\n\r\n        get realDataOffset () {\r\n            return _offset + Constants.LOCHDR + _dataHeader.fnameLen + _dataHeader.extraLen;\r\n        },\r\n\r\n        get dataHeader () {\r\n            return _dataHeader;\r\n        },\r\n\r\n        loadDataHeaderFromBinary : function(/*Buffer*/input) {\r\n            var data = input.slice(_offset, _offset + Constants.LOCHDR);\r\n            // 30 bytes and should start with \"PK\\003\\004\"\r\n            if (data.readUInt32LE(0) !== Constants.LOCSIG) {\r\n                throw Utils.Errors.INVALID_LOC;\r\n            }\r\n            _dataHeader = {\r\n                // version needed to extract\r\n                version : data.readUInt16LE(Constants.LOCVER),\r\n                // general purpose bit flag\r\n                flags : data.readUInt16LE(Constants.LOCFLG),\r\n                // compression method\r\n                method : data.readUInt16LE(Constants.LOCHOW),\r\n                // modification time (2 bytes time, 2 bytes date)\r\n                time : data.readUInt32LE(Constants.LOCTIM),\r\n                // uncompressed file crc-32 value\r\n                crc : data.readUInt32LE(Constants.LOCCRC),\r\n                // compressed size\r\n                compressedSize : data.readUInt32LE(Constants.LOCSIZ),\r\n                // uncompressed size\r\n                size : data.readUInt32LE(Constants.LOCLEN),\r\n                // filename length\r\n                fnameLen : data.readUInt16LE(Constants.LOCNAM),\r\n                // extra field length\r\n                extraLen : data.readUInt16LE(Constants.LOCEXT)\r\n            }\r\n        },\r\n\r\n        loadFromBinary : function(/*Buffer*/data) {\r\n            // data should be 46 bytes and start with \"PK 01 02\"\r\n            if (data.length !== Constants.CENHDR || data.readUInt32LE(0) !== Constants.CENSIG) {\r\n                throw Utils.Errors.INVALID_CEN;\r\n            }\r\n            // version made by\r\n            _verMade = data.readUInt16LE(Constants.CENVEM);\r\n            // version needed to extract\r\n            _version = data.readUInt16LE(Constants.CENVER);\r\n            // encrypt, decrypt flags\r\n            _flags = data.readUInt16LE(Constants.CENFLG);\r\n            // compression method\r\n            _method = data.readUInt16LE(Constants.CENHOW);\r\n            // modification time (2 bytes time, 2 bytes date)\r\n            _time = data.readUInt32LE(Constants.CENTIM);\r\n            // uncompressed file crc-32 value\r\n            _crc = data.readUInt32LE(Constants.CENCRC);\r\n            // compressed size\r\n            _compressedSize = data.readUInt32LE(Constants.CENSIZ);\r\n            // uncompressed size\r\n            _size = data.readUInt32LE(Constants.CENLEN);\r\n            // filename length\r\n            _fnameLen = data.readUInt16LE(Constants.CENNAM);\r\n            // extra field length\r\n            _extraLen = data.readUInt16LE(Constants.CENEXT);\r\n            // file comment length\r\n            _comLen = data.readUInt16LE(Constants.CENCOM);\r\n            // volume number start\r\n            _diskStart = data.readUInt16LE(Constants.CENDSK);\r\n            // internal file attributes\r\n            _inattr = data.readUInt16LE(Constants.CENATT);\r\n            // external file attributes\r\n            _attr = data.readUInt32LE(Constants.CENATX);\r\n            // LOC header offset\r\n            _offset = data.readUInt32LE(Constants.CENOFF);\r\n        },\r\n\r\n        dataHeaderToBinary : function() {\r\n            // LOC header size (30 bytes)\r\n            var data = Buffer.alloc(Constants.LOCHDR);\r\n            // \"PK\\003\\004\"\r\n            data.writeUInt32LE(Constants.LOCSIG, 0);\r\n            // version needed to extract\r\n            data.writeUInt16LE(_version, Constants.LOCVER);\r\n            // general purpose bit flag\r\n            data.writeUInt16LE(_flags, Constants.LOCFLG);\r\n            // compression method\r\n            data.writeUInt16LE(_method, Constants.LOCHOW);\r\n            // modification time (2 bytes time, 2 bytes date)\r\n            data.writeUInt32LE(_time, Constants.LOCTIM);\r\n            // uncompressed file crc-32 value\r\n            data.writeUInt32LE(_crc, Constants.LOCCRC);\r\n            // compressed size\r\n            data.writeUInt32LE(_compressedSize, Constants.LOCSIZ);\r\n            // uncompressed size\r\n            data.writeUInt32LE(_size, Constants.LOCLEN);\r\n            // filename length\r\n            data.writeUInt16LE(_fnameLen, Constants.LOCNAM);\r\n            // extra field length\r\n            data.writeUInt16LE(_extraLen, Constants.LOCEXT);\r\n            return data;\r\n        },\r\n\r\n        entryHeaderToBinary : function() {\r\n            // CEN header size (46 bytes)\r\n            var data = Buffer.alloc(Constants.CENHDR + _fnameLen + _extraLen + _comLen);\r\n            // \"PK\\001\\002\"\r\n            data.writeUInt32LE(Constants.CENSIG, 0);\r\n            // version made by\r\n            data.writeUInt16LE(_verMade, Constants.CENVEM);\r\n            // version needed to extract\r\n            data.writeUInt16LE(_version, Constants.CENVER);\r\n            // encrypt, decrypt flags\r\n            data.writeUInt16LE(_flags, Constants.CENFLG);\r\n            // compression method\r\n            data.writeUInt16LE(_method, Constants.CENHOW);\r\n            // modification time (2 bytes time, 2 bytes date)\r\n            data.writeUInt32LE(_time, Constants.CENTIM);\r\n            // uncompressed file crc-32 value\r\n            data.writeInt32LE(_crc & 0xFFFF, Constants.CENCRC, true);\r\n            // compressed size\r\n            data.writeUInt32LE(_compressedSize, Constants.CENSIZ);\r\n            // uncompressed size\r\n            data.writeUInt32LE(_size, Constants.CENLEN);\r\n            // filename length\r\n            data.writeUInt16LE(_fnameLen, Constants.CENNAM);\r\n            // extra field length\r\n            data.writeUInt16LE(_extraLen, Constants.CENEXT);\r\n            // file comment length\r\n            data.writeUInt16LE(_comLen, Constants.CENCOM);\r\n            // volume number start\r\n            data.writeUInt16LE(_diskStart, Constants.CENDSK);\r\n            // internal file attributes\r\n            data.writeUInt16LE(_inattr, Constants.CENATT);\r\n            // external file attributes\r\n            data.writeUInt32LE(_attr, Constants.CENATX);\r\n            // LOC header offset\r\n            data.writeUInt32LE(_offset, Constants.CENOFF);\r\n            // fill all with\r\n            data.fill(0x00, Constants.CENHDR);\r\n            return data;\r\n        },\r\n\r\n        toString : function() {\r\n            return '{\\n' +\r\n                '\\t\"made\" : ' + _verMade + \",\\n\" +\r\n                '\\t\"version\" : ' + _version + \",\\n\" +\r\n                '\\t\"flags\" : ' + _flags + \",\\n\" +\r\n                '\\t\"method\" : ' + Utils.methodToString(_method) + \",\\n\" +\r\n                '\\t\"time\" : ' + this.time + \",\\n\" +\r\n                '\\t\"crc\" : 0x' + _crc.toString(16).toUpperCase() + \",\\n\" +\r\n                '\\t\"compressedSize\" : ' + _compressedSize + \" bytes,\\n\" +\r\n                '\\t\"size\" : ' + _size + \" bytes,\\n\" +\r\n                '\\t\"fileNameLength\" : ' + _fnameLen + \",\\n\" +\r\n                '\\t\"extraLength\" : ' + _extraLen + \" bytes,\\n\" +\r\n                '\\t\"commentLength\" : ' + _comLen + \" bytes,\\n\" +\r\n                '\\t\"diskNumStart\" : ' + _diskStart + \",\\n\" +\r\n                '\\t\"inAttr\" : ' + _inattr + \",\\n\" +\r\n                '\\t\"attr\" : ' + _attr + \",\\n\" +\r\n                '\\t\"offset\" : ' + _offset + \",\\n\" +\r\n                '\\t\"entryHeaderSize\" : ' + (Constants.CENHDR + _fnameLen + _extraLen + _comLen) + \" bytes\\n\" +\r\n                '}';\r\n        }\r\n    }\r\n};\r\n","var Utils = require(\"../util\"),\r\n    Constants = Utils.Constants;\r\n\r\n/* The entries in the end of central directory */\r\nmodule.exports = function () {\r\n    var _volumeEntries = 0,\r\n        _totalEntries = 0,\r\n        _size = 0,\r\n        _offset = 0,\r\n        _commentLength = 0;\r\n\r\n    return {\r\n        get diskEntries () { return _volumeEntries },\r\n        set diskEntries (/*Number*/val) { _volumeEntries = _totalEntries = val; },\r\n\r\n        get totalEntries () { return _totalEntries },\r\n        set totalEntries (/*Number*/val) { _totalEntries = _volumeEntries = val; },\r\n\r\n        get size () { return _size },\r\n        set size (/*Number*/val) { _size = val; },\r\n\r\n        get offset () { return _offset },\r\n        set offset (/*Number*/val) { _offset = val; },\r\n\r\n        get commentLength () { return _commentLength },\r\n        set commentLength (/*Number*/val) { _commentLength = val; },\r\n\r\n        get mainHeaderSize () {\r\n            return Constants.ENDHDR + _commentLength;\r\n        },\r\n\r\n        loadFromBinary : function(/*Buffer*/data) {\r\n            // data should be 22 bytes and start with \"PK 05 06\"\r\n            if (data.length !== Constants.ENDHDR || data.readUInt32LE(0) !== Constants.ENDSIG)\r\n                throw Utils.Errors.INVALID_END;\r\n\r\n            // number of entries on this volume\r\n            _volumeEntries = data.readUInt16LE(Constants.ENDSUB);\r\n            // total number of entries\r\n            _totalEntries = data.readUInt16LE(Constants.ENDTOT);\r\n            // central directory size in bytes\r\n            _size = data.readUInt32LE(Constants.ENDSIZ);\r\n            // offset of first CEN header\r\n            _offset = data.readUInt32LE(Constants.ENDOFF);\r\n            // zip file comment length\r\n            _commentLength = data.readUInt16LE(Constants.ENDCOM);\r\n        },\r\n\r\n        toBinary : function() {\r\n           var b = Buffer.alloc(Constants.ENDHDR + _commentLength);\r\n            // \"PK 05 06\" signature\r\n            b.writeUInt32LE(Constants.ENDSIG, 0);\r\n            b.writeUInt32LE(0, 4);\r\n            // number of entries on this volume\r\n            b.writeUInt16LE(_volumeEntries, Constants.ENDSUB);\r\n            // total number of entries\r\n            b.writeUInt16LE(_totalEntries, Constants.ENDTOT);\r\n            // central directory size in bytes\r\n            b.writeUInt32LE(_size, Constants.ENDSIZ);\r\n            // offset of first CEN header\r\n            b.writeUInt32LE(_offset, Constants.ENDOFF);\r\n            // zip file comment length\r\n            b.writeUInt16LE(_commentLength, Constants.ENDCOM);\r\n            // fill comment memory with spaces so no garbage is left there\r\n            b.fill(\" \", Constants.ENDHDR);\r\n\r\n            return b;\r\n        },\r\n\r\n        toString : function() {\r\n            return '{\\n' +\r\n                '\\t\"diskEntries\" : ' + _volumeEntries + \",\\n\" +\r\n                '\\t\"totalEntries\" : ' + _totalEntries + \",\\n\" +\r\n                '\\t\"size\" : ' + _size + \" bytes,\\n\" +\r\n                '\\t\"offset\" : 0x' + _offset.toString(16).toUpperCase() + \",\\n\" +\r\n                '\\t\"commentLength\" : 0x' + _commentLength + \"\\n\" +\r\n            '}';\r\n        }\r\n    }\r\n};","exports.EntryHeader = require(\"./entryHeader\");\r\nexports.MainHeader = require(\"./mainHeader\");\r\n","module.exports = function (/*Buffer*/inbuf) {\r\n\r\n  var zlib = require(\"zlib\");\r\n  \r\n  var opts = {chunkSize: (parseInt(inbuf.length / 1024) + 1) * 1024};\r\n  \r\n  return {\r\n    deflate: function () {\r\n      return zlib.deflateRawSync(inbuf, opts);\r\n    },\r\n\r\n    deflateAsync: function (/*Function*/callback) {\r\n      var tmp = zlib.createDeflateRaw(opts), parts = [], total = 0;\r\n      tmp.on('data', function (data) {\r\n        parts.push(data);\r\n        total += data.length;\r\n      });\r\n      tmp.on('end', function () {\r\n        var buf = Buffer.alloc(total), written = 0;\r\n        buf.fill(0);\r\n        for (var i = 0; i < parts.length; i++) {\r\n          var part = parts[i];\r\n          part.copy(buf, written);\r\n          written += part.length;\r\n        }\r\n        callback && callback(buf);\r\n      });\r\n      tmp.end(inbuf);\r\n    }\r\n  }\r\n};\r\n","module.exports = function (/*Buffer*/inbuf) {\r\n\r\n  var zlib = require(\"zlib\");\r\n\r\n  return {\r\n    inflate: function () {\r\n      return zlib.inflateRawSync(inbuf);\r\n    },\r\n\r\n    inflateAsync: function (/*Function*/callback) {\r\n      var tmp = zlib.createInflateRaw(), parts = [], total = 0;\r\n      tmp.on('data', function (data) {\r\n        parts.push(data);\r\n        total += data.length;\r\n      });\r\n      tmp.on('end', function () {\r\n        var buf = Buffer.alloc(total), written = 0;\r\n        buf.fill(0);\r\n        for (var i = 0; i < parts.length; i++) {\r\n          var part = parts[i];\r\n          part.copy(buf, written);\r\n          written += part.length;\r\n        }\r\n        callback && callback(buf);\r\n      });\r\n      tmp.end(inbuf);\r\n    }\r\n  }\r\n};\r\n","exports.Deflater = require(\"./deflater\");\r\nexports.Inflater = require(\"./inflater\");","var Utils = require(\"./util\"),\r\n    Headers = require(\"./headers\"),\r\n    Constants = Utils.Constants,\r\n    Methods = require(\"./methods\");\r\n\r\nmodule.exports = function (/*Buffer*/input) {\r\n\r\n    var _entryHeader = new Headers.EntryHeader(),\r\n        _entryName = Buffer.alloc(0),\r\n        _comment = Buffer.alloc(0),\r\n        _isDirectory = false,\r\n        uncompressedData = null,\r\n        _extra = Buffer.alloc(0);\r\n\r\n    function getCompressedDataFromZip() {\r\n        if (!input || !Buffer.isBuffer(input)) {\r\n            return Buffer.alloc(0);\r\n        }\r\n        _entryHeader.loadDataHeaderFromBinary(input);\r\n        return input.slice(_entryHeader.realDataOffset, _entryHeader.realDataOffset + _entryHeader.compressedSize)\r\n    }\r\n\r\n    function crc32OK(data) {\r\n        // if bit 3 (0x08) of the general-purpose flags field is set, then the CRC-32 and file sizes are not known when the header is written\r\n        if ((_entryHeader.flags & 0x8) !== 0x8) {\r\n           if (Utils.crc32(data) !== _entryHeader.dataHeader.crc) {\r\n               return false;\r\n           }\r\n        } else {\r\n            // @TODO: load and check data descriptor header\r\n            // The fields in the local header are filled with zero, and the CRC-32 and size are appended in a 12-byte structure\r\n            // (optionally preceded by a 4-byte signature) immediately after the compressed data:\r\n        }\r\n        return true;\r\n    }\r\n\r\n    function decompress(/*Boolean*/async, /*Function*/callback, /*String*/pass) {\r\n        if(typeof callback === 'undefined' && typeof async === 'string') {\r\n            pass=async;\r\n            async=void 0;\r\n        }\r\n        if (_isDirectory) {\r\n            if (async && callback) {\r\n                callback(Buffer.alloc(0), Utils.Errors.DIRECTORY_CONTENT_ERROR); //si added error.\r\n            }\r\n            return Buffer.alloc(0);\r\n        }\r\n\r\n        var compressedData = getCompressedDataFromZip();\r\n       \r\n        if (compressedData.length === 0) {\r\n            if (async && callback) callback(compressedData, Utils.Errors.NO_DATA);//si added error.\r\n            return compressedData;\r\n        }\r\n\r\n        var data = Buffer.alloc(_entryHeader.size);\r\n\r\n        switch (_entryHeader.method) {\r\n            case Utils.Constants.STORED:\r\n                compressedData.copy(data);\r\n                if (!crc32OK(data)) {\r\n                    if (async && callback) callback(data, Utils.Errors.BAD_CRC);//si added error\r\n                    return Utils.Errors.BAD_CRC;\r\n                } else {//si added otherwise did not seem to return data.\r\n                    if (async && callback) callback(data);\r\n                    return data;\r\n                }\r\n            case Utils.Constants.DEFLATED:\r\n                var inflater = new Methods.Inflater(compressedData);\r\n                if (!async) {\r\n                    var result = inflater.inflate(data);\r\n                    result.copy(data, 0);\r\n                    if (!crc32OK(data)) {\r\n                        console.warn(Utils.Errors.BAD_CRC + \" \" + _entryName.toString())\r\n                    }\r\n                    return data;\r\n                } else {\r\n                    inflater.inflateAsync(function(result) {\r\n                        result.copy(data, 0);\r\n                        if (!crc32OK(data)) {\r\n                            if (callback) callback(data, Utils.Errors.BAD_CRC); //si added error\r\n                        } else { //si added otherwise did not seem to return data.\r\n                            if (callback) callback(data);\r\n                        }\r\n                    })\r\n                }\r\n                break;\r\n            default:\r\n                if (async && callback) callback(Buffer.alloc(0), Utils.Errors.UNKNOWN_METHOD);\r\n                return Utils.Errors.UNKNOWN_METHOD;\r\n        }\r\n    }\r\n\r\n    function compress(/*Boolean*/async, /*Function*/callback) {\r\n        if ((!uncompressedData || !uncompressedData.length) && Buffer.isBuffer(input)) {\r\n            // no data set or the data wasn't changed to require recompression\r\n            if (async && callback) callback(getCompressedDataFromZip());\r\n            return getCompressedDataFromZip();\r\n        }\r\n\r\n        if (uncompressedData.length && !_isDirectory) {\r\n            var compressedData;\r\n            // Local file header\r\n            switch (_entryHeader.method) {\r\n                case Utils.Constants.STORED:\r\n                    _entryHeader.compressedSize = _entryHeader.size;\r\n\r\n                    compressedData = Buffer.alloc(uncompressedData.length);\r\n                    uncompressedData.copy(compressedData);\r\n\r\n                    if (async && callback) callback(compressedData);\r\n                    return compressedData;\r\n                default:\r\n                case Utils.Constants.DEFLATED:\r\n\r\n                    var deflater = new Methods.Deflater(uncompressedData);\r\n                    if (!async) {\r\n                        var deflated = deflater.deflate();\r\n                        _entryHeader.compressedSize = deflated.length;\r\n                        return deflated;\r\n                    } else {\r\n                        deflater.deflateAsync(function(data) {\r\n                            compressedData = Buffer.alloc(data.length);\r\n                            _entryHeader.compressedSize = data.length;\r\n                            data.copy(compressedData);\r\n                            callback && callback(compressedData);\r\n                        })\r\n                    }\r\n                    deflater = null;\r\n                    break;\r\n            }\r\n        } else {\r\n            if (async && callback) {\r\n                callback(Buffer.alloc(0));\r\n            } else {\r\n                return Buffer.alloc(0);\r\n            }\r\n        }\r\n    }\r\n\r\n    function readUInt64LE(buffer, offset) {\r\n        return (buffer.readUInt32LE(offset + 4) << 4) + buffer.readUInt32LE(offset);\r\n    }\r\n\r\n    function parseExtra(data) {\r\n        var offset = 0;\r\n        var signature, size, part;\r\n        while(offset<data.length) {\r\n            signature = data.readUInt16LE(offset);\r\n            offset += 2;\r\n            size = data.readUInt16LE(offset);\r\n            offset += 2;\r\n            part = data.slice(offset, offset+size);\r\n            offset += size;\r\n            if(Constants.ID_ZIP64 === signature) {\r\n                parseZip64ExtendedInformation(part);\r\n            }\r\n        }\r\n    }\r\n\r\n    //Override header field values with values from the ZIP64 extra field\r\n    function parseZip64ExtendedInformation(data) {\r\n        var size, compressedSize, offset, diskNumStart;\r\n\r\n        if(data.length >= Constants.EF_ZIP64_SCOMP) {\r\n            size = readUInt64LE(data, Constants.EF_ZIP64_SUNCOMP);\r\n            if(_entryHeader.size === Constants.EF_ZIP64_OR_32) {\r\n                _entryHeader.size = size;\r\n            }\r\n        }\r\n        if(data.length >= Constants.EF_ZIP64_RHO) {\r\n            compressedSize = readUInt64LE(data, Constants.EF_ZIP64_SCOMP);\r\n            if(_entryHeader.compressedSize === Constants.EF_ZIP64_OR_32) {\r\n                _entryHeader.compressedSize = compressedSize;\r\n            }\r\n        }\r\n        if(data.length >= Constants.EF_ZIP64_DSN) {\r\n            offset = readUInt64LE(data, Constants.EF_ZIP64_RHO);\r\n            if(_entryHeader.offset === Constants.EF_ZIP64_OR_32) {\r\n                _entryHeader.offset = offset;\r\n            }\r\n        }\r\n        if(data.length >= Constants.EF_ZIP64_DSN+4) {\r\n            diskNumStart = data.readUInt32LE(Constants.EF_ZIP64_DSN);\r\n            if(_entryHeader.diskNumStart === Constants.EF_ZIP64_OR_16) {\r\n                _entryHeader.diskNumStart = diskNumStart;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    return {\r\n        get entryName () { return _entryName.toString(); },\r\n        get rawEntryName() { return _entryName; },\r\n        set entryName (val) {\r\n            _entryName = Utils.toBuffer(val);\r\n            var lastChar = _entryName[_entryName.length - 1];\r\n            _isDirectory = (lastChar === 47) || (lastChar === 92);\r\n            _entryHeader.fileNameLength = _entryName.length;\r\n        },\r\n\r\n        get extra () { return _extra; },\r\n        set extra (val) {\r\n            _extra = val;\r\n            _entryHeader.extraLength = val.length;\r\n            parseExtra(val);\r\n        },\r\n\r\n        get comment () { return _comment.toString(); },\r\n        set comment (val) {\r\n            _comment = Utils.toBuffer(val);\r\n            _entryHeader.commentLength = _comment.length;\r\n        },\r\n\r\n        get name () { var n = _entryName.toString(); return _isDirectory ? n.substr(n.length - 1).split(\"/\").pop() : n.split(\"/\").pop(); },\r\n        get isDirectory () { return _isDirectory },\r\n\r\n        getCompressedData : function() {\r\n            return compress(false, null)\r\n        },\r\n\r\n        getCompressedDataAsync : function(/*Function*/callback) {\r\n            compress(true, callback)\r\n        },\r\n\r\n        setData : function(value) {\r\n            uncompressedData = Utils.toBuffer(value);\r\n            if (!_isDirectory && uncompressedData.length) {\r\n                _entryHeader.size = uncompressedData.length;\r\n                _entryHeader.method = Utils.Constants.DEFLATED;\r\n                _entryHeader.crc = Utils.crc32(value);\r\n                _entryHeader.changed = true;\r\n            } else { // folders and blank files should be stored\r\n                _entryHeader.method = Utils.Constants.STORED;\r\n            }\r\n        },\r\n\r\n        getData : function(pass) {\r\n            if (_entryHeader.changed) {\r\n\t\t\t\treturn uncompressedData;\r\n\t\t\t} else {\r\n\t\t\t\treturn decompress(false, null, pass);\r\n            }\r\n        },\r\n\r\n        getDataAsync : function(/*Function*/callback, pass) {\r\n\t\t\tif (_entryHeader.changed) {\r\n\t\t\t\tcallback(uncompressedData)\r\n\t\t\t} else {\r\n\t\t\t\tdecompress(true, callback, pass)\r\n            }\r\n        },\r\n\r\n        set attr(attr) { _entryHeader.attr = attr; },\r\n        get attr() { return _entryHeader.attr; },\r\n\r\n        set header(/*Buffer*/data) {\r\n            _entryHeader.loadFromBinary(data);\r\n        },\r\n\r\n        get header() {\r\n            return _entryHeader;\r\n        },\r\n\r\n        packHeader : function() {\r\n            var header = _entryHeader.entryHeaderToBinary();\r\n            // add\r\n            _entryName.copy(header, Utils.Constants.CENHDR);\r\n            if (_entryHeader.extraLength) {\r\n                _extra.copy(header, Utils.Constants.CENHDR + _entryName.length)\r\n            }\r\n            if (_entryHeader.commentLength) {\r\n                _comment.copy(header, Utils.Constants.CENHDR + _entryName.length + _entryHeader.extraLength, _comment.length);\r\n            }\r\n            return header;\r\n        },\r\n\r\n        toString : function() {\r\n            return '{\\n' +\r\n                '\\t\"entryName\" : \"' + _entryName.toString() + \"\\\",\\n\" +\r\n                '\\t\"name\" : \"' + (_isDirectory ? _entryName.toString().replace(/\\/$/, '').split(\"/\").pop() : _entryName.toString().split(\"/\").pop()) + \"\\\",\\n\" +\r\n                '\\t\"comment\" : \"' + _comment.toString() + \"\\\",\\n\" +\r\n                '\\t\"isDirectory\" : ' + _isDirectory + \",\\n\" +\r\n                '\\t\"header\" : ' + _entryHeader.toString().replace(/\\t/mg, \"\\t\\t\").replace(/}/mg, \"\\t}\")  + \",\\n\" +\r\n                '\\t\"compressedData\" : <' + (input && input.length  + \" bytes buffer\" || \"null\") + \">\\n\" +\r\n                '\\t\"data\" : <' + (uncompressedData && uncompressedData.length  + \" bytes buffer\" || \"null\") + \">\\n\" +\r\n                '}';\r\n        }\r\n    }\r\n};\r\n","var ZipEntry = require(\"./zipEntry\"),\r\n\tHeaders = require(\"./headers\"),\r\n\tUtils = require(\"./util\");\r\n\r\nmodule.exports = function (/*String|Buffer*/input, /*Number*/inputType) {\r\n\tvar entryList = [],\r\n\t\tentryTable = {},\r\n\t\t_comment = Buffer.alloc(0),\r\n\t\tfilename = \"\",\r\n\t\tfs = Utils.FileSystem.require(),\r\n\t\tinBuffer = null,\r\n\t\tmainHeader = new Headers.MainHeader();\r\n\r\n\tif (inputType === Utils.Constants.FILE) {\r\n\t\t// is a filename\r\n\t\tfilename = input;\r\n\t\tinBuffer = fs.readFileSync(filename);\r\n\t\treadMainHeader();\r\n\t} else if (inputType === Utils.Constants.BUFFER) {\r\n\t\t// is a memory buffer\r\n\t\tinBuffer = input;\r\n\t\treadMainHeader();\r\n\t} else {\r\n\t\t// none. is a new file\r\n\t}\r\n\r\n\tfunction readEntries() {\r\n\t\tentryTable = {};\r\n\t\tentryList = new Array(mainHeader.diskEntries);  // total number of entries\r\n\t\tvar index = mainHeader.offset;  // offset of first CEN header\r\n\t\tfor (var i = 0; i < entryList.length; i++) {\r\n\r\n\t\t\tvar tmp = index,\r\n\t\t\t\tentry = new ZipEntry(inBuffer);\r\n\t\t\tentry.header = inBuffer.slice(tmp, tmp += Utils.Constants.CENHDR);\r\n\r\n\t\t\tentry.entryName = inBuffer.slice(tmp, tmp += entry.header.fileNameLength);\r\n\r\n\t\t\tif (entry.header.extraLength) {\r\n\t\t\t\tentry.extra = inBuffer.slice(tmp, tmp += entry.header.extraLength);\r\n\t\t\t}\r\n\r\n\t\t\tif (entry.header.commentLength)\r\n\t\t\t\tentry.comment = inBuffer.slice(tmp, tmp + entry.header.commentLength);\r\n\r\n\t\t\tindex += entry.header.entryHeaderSize;\r\n\r\n\t\t\tentryList[i] = entry;\r\n\t\t\tentryTable[entry.entryName] = entry;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction readMainHeader() {\r\n\t\tvar i = inBuffer.length - Utils.Constants.ENDHDR, // END header size\r\n\t\t\tn = Math.max(0, i - 0xFFFF), // 0xFFFF is the max zip file comment length\r\n\t\t\tendOffset = -1; // Start offset of the END header\r\n\r\n\t\tfor (i; i >= n; i--) {\r\n\t\t\tif (inBuffer[i] !== 0x50) continue; // quick check that the byte is 'P'\r\n\t\t\tif (inBuffer.readUInt32LE(i) === Utils.Constants.ENDSIG) { // \"PK\\005\\006\"\r\n\t\t\t\tendOffset = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!~endOffset)\r\n\t\t\tthrow Utils.Errors.INVALID_FORMAT;\r\n\r\n\t\tmainHeader.loadFromBinary(inBuffer.slice(endOffset, endOffset + Utils.Constants.ENDHDR));\r\n\t\tif (mainHeader.commentLength) {\r\n\t\t\t_comment = inBuffer.slice(endOffset + Utils.Constants.ENDHDR);\r\n\t\t}\r\n\t\treadEntries();\r\n\t}\r\n\r\n\treturn {\r\n\t\t/**\r\n\t\t * Returns an array of ZipEntry objects existent in the current opened archive\r\n\t\t * @return Array\r\n\t\t */\r\n\t\tget entries() {\r\n\t\t\treturn entryList;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Archive comment\r\n\t\t * @return {String}\r\n\t\t */\r\n\t\tget comment() {\r\n\t\t\treturn _comment.toString();\r\n\t\t},\r\n\t\tset comment(val) {\r\n\t\t\tmainHeader.commentLength = val.length;\r\n\t\t\t_comment = val;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns a reference to the entry with the given name or null if entry is inexistent\r\n\t\t *\r\n\t\t * @param entryName\r\n\t\t * @return ZipEntry\r\n\t\t */\r\n\t\tgetEntry: function (/*String*/entryName) {\r\n\t\t\treturn entryTable[entryName] || null;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Adds the given entry to the entry list\r\n\t\t *\r\n\t\t * @param entry\r\n\t\t */\r\n\t\tsetEntry: function (/*ZipEntry*/entry) {\r\n\t\t\tentryList.push(entry);\r\n\t\t\tentryTable[entry.entryName] = entry;\r\n\t\t\tmainHeader.totalEntries = entryList.length;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Removes the entry with the given name from the entry list.\r\n\t\t *\r\n\t\t * If the entry is a directory, then all nested files and directories will be removed\r\n\t\t * @param entryName\r\n\t\t */\r\n\t\tdeleteEntry: function (/*String*/entryName) {\r\n\t\t\tvar entry = entryTable[entryName];\r\n\t\t\tif (entry && entry.isDirectory) {\r\n\t\t\t\tvar _self = this;\r\n\t\t\t\tthis.getEntryChildren(entry).forEach(function (child) {\r\n\t\t\t\t\tif (child.entryName !== entryName) {\r\n\t\t\t\t\t\t_self.deleteEntry(child.entryName)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tentryList.splice(entryList.indexOf(entry), 1);\r\n\t\t\tdelete(entryTable[entryName]);\r\n\t\t\tmainHeader.totalEntries = entryList.length;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t *  Iterates and returns all nested files and directories of the given entry\r\n\t\t *\r\n\t\t * @param entry\r\n\t\t * @return Array\r\n\t\t */\r\n\t\tgetEntryChildren: function (/*ZipEntry*/entry) {\r\n\t\t\tif (entry.isDirectory) {\r\n\t\t\t\tvar list = [],\r\n\t\t\t\t\tname = entry.entryName,\r\n\t\t\t\t\tlen = name.length;\r\n\r\n\t\t\t\tentryList.forEach(function (zipEntry) {\r\n\t\t\t\t\tif (zipEntry.entryName.substr(0, len) === name) {\r\n\t\t\t\t\t\tlist.push(zipEntry);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn list;\r\n\t\t\t}\r\n\t\t\treturn []\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns the zip file\r\n\t\t *\r\n\t\t * @return Buffer\r\n\t\t */\r\n\t\tcompressToBuffer: function () {\r\n\t\t\tif (entryList.length > 1) {\r\n\t\t\t\tentryList.sort(function (a, b) {\r\n\t\t\t\t\tvar nameA = a.entryName.toLowerCase();\r\n\t\t\t\t\tvar nameB = b.entryName.toLowerCase();\r\n\t\t\t\t\tif (nameA < nameB) {\r\n\t\t\t\t\t\treturn -1\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (nameA > nameB) {\r\n\t\t\t\t\t\treturn 1\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tvar totalSize = 0,\r\n\t\t\t\tdataBlock = [],\r\n\t\t\t\tentryHeaders = [],\r\n\t\t\t\tdindex = 0;\r\n\r\n\t\t\tmainHeader.size = 0;\r\n\t\t\tmainHeader.offset = 0;\r\n\r\n\t\t\tentryList.forEach(function (entry) {\r\n\t\t\t\t// compress data and set local and entry header accordingly. Reason why is called first\r\n\t\t\t\tvar compressedData = entry.getCompressedData();\r\n\t\t\t\t// data header\r\n\t\t\t\tentry.header.offset = dindex;\r\n\t\t\t\tvar dataHeader = entry.header.dataHeaderToBinary();\r\n\t\t\t\tvar entryNameLen = entry.rawEntryName.length;\r\n\t\t\t\tvar extra = entry.extra.toString();\r\n\t\t\t\tvar postHeader = Buffer.alloc(entryNameLen + extra.length);\r\n\t\t\t\tentry.rawEntryName.copy(postHeader, 0);\r\n\t\t\t\tpostHeader.fill(extra, entryNameLen);\r\n\r\n\t\t\t\tvar dataLength = dataHeader.length + postHeader.length + compressedData.length;\r\n\r\n\t\t\t\tdindex += dataLength;\r\n\r\n\t\t\t\tdataBlock.push(dataHeader);\r\n\t\t\t\tdataBlock.push(postHeader);\r\n\t\t\t\tdataBlock.push(compressedData);\r\n\r\n\t\t\t\tvar entryHeader = entry.packHeader();\r\n\t\t\t\tentryHeaders.push(entryHeader);\r\n\t\t\t\tmainHeader.size += entryHeader.length;\r\n\t\t\t\ttotalSize += (dataLength + entryHeader.length);\r\n\t\t\t});\r\n\r\n\t\t\ttotalSize += mainHeader.mainHeaderSize; // also includes zip file comment length\r\n\t\t\t// point to end of data and beginning of central directory first record\r\n\t\t\tmainHeader.offset = dindex;\r\n\r\n\t\t\tdindex = 0;\r\n\t\t\tvar outBuffer = Buffer.alloc(totalSize);\r\n\t\t\tdataBlock.forEach(function (content) {\r\n\t\t\t\tcontent.copy(outBuffer, dindex); // write data blocks\r\n\t\t\t\tdindex += content.length;\r\n\t\t\t});\r\n\t\t\tentryHeaders.forEach(function (content) {\r\n\t\t\t\tcontent.copy(outBuffer, dindex); // write central directory entries\r\n\t\t\t\tdindex += content.length;\r\n\t\t\t});\r\n\r\n\t\t\tvar mh = mainHeader.toBinary();\r\n\t\t\tif (_comment) {\r\n\t\t\t\t_comment.copy(mh, Utils.Constants.ENDHDR); // add zip file comment\r\n\t\t\t}\r\n\r\n\t\t\tmh.copy(outBuffer, dindex); // write main header\r\n\r\n\t\t\treturn outBuffer\r\n\t\t},\r\n\r\n\t\ttoAsyncBuffer: function (/*Function*/onSuccess, /*Function*/onFail, /*Function*/onItemStart, /*Function*/onItemEnd) {\r\n\t\t\tif (entryList.length > 1) {\r\n\t\t\t\tentryList.sort(function (a, b) {\r\n\t\t\t\t\tvar nameA = a.entryName.toLowerCase();\r\n\t\t\t\t\tvar nameB = b.entryName.toLowerCase();\r\n\t\t\t\t\tif (nameA > nameB) {\r\n\t\t\t\t\t\treturn -1\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (nameA < nameB) {\r\n\t\t\t\t\t\treturn 1\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tvar totalSize = 0,\r\n\t\t\t\tdataBlock = [],\r\n\t\t\t\tentryHeaders = [],\r\n\t\t\t\tdindex = 0;\r\n\r\n\t\t\tmainHeader.size = 0;\r\n\t\t\tmainHeader.offset = 0;\r\n\r\n\t\t\tvar compress = function (entryList) {\r\n\t\t\t\tvar self = arguments.callee;\r\n\t\t\t\tif (entryList.length) {\r\n\t\t\t\t\tvar entry = entryList.pop();\r\n\t\t\t\t\tvar name = entry.entryName + entry.extra.toString();\r\n\t\t\t\t\tif (onItemStart) onItemStart(name);\r\n\t\t\t\t\tentry.getCompressedDataAsync(function (compressedData) {\r\n\t\t\t\t\t\tif (onItemEnd) onItemEnd(name);\r\n\r\n\t\t\t\t\t\tentry.header.offset = dindex;\r\n\t\t\t\t\t\t// data header\r\n\t\t\t\t\t\tvar dataHeader = entry.header.dataHeaderToBinary();\r\n\t\t\t\t\t\tvar postHeader;\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tpostHeader = Buffer.alloc(name.length, name);  // using alloc will work on node  5.x+\r\n\t\t\t\t\t\t} catch(e){\r\n\t\t\t\t\t\t\tpostHeader = new Buffer(name); // use deprecated method if alloc fails...\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar dataLength = dataHeader.length + postHeader.length + compressedData.length;\r\n\r\n\t\t\t\t\t\tdindex += dataLength;\r\n\r\n\t\t\t\t\t\tdataBlock.push(dataHeader);\r\n\t\t\t\t\t\tdataBlock.push(postHeader);\r\n\t\t\t\t\t\tdataBlock.push(compressedData);\r\n\r\n\t\t\t\t\t\tvar entryHeader = entry.packHeader();\r\n\t\t\t\t\t\tentryHeaders.push(entryHeader);\r\n\t\t\t\t\t\tmainHeader.size += entryHeader.length;\r\n\t\t\t\t\t\ttotalSize += (dataLength + entryHeader.length);\r\n\r\n\t\t\t\t\t\tif (entryList.length) {\r\n\t\t\t\t\t\t\tself(entryList);\r\n\t\t\t\t\t\t} else {\r\n\r\n\r\n\t\t\t\t\t\t\ttotalSize += mainHeader.mainHeaderSize; // also includes zip file comment length\r\n\t\t\t\t\t\t\t// point to end of data and beginning of central directory first record\r\n\t\t\t\t\t\t\tmainHeader.offset = dindex;\r\n\r\n\t\t\t\t\t\t\tdindex = 0;\r\n\t\t\t\t\t\t\tvar outBuffer = Buffer.alloc(totalSize);\r\n\t\t\t\t\t\t\tdataBlock.forEach(function (content) {\r\n\t\t\t\t\t\t\t\tcontent.copy(outBuffer, dindex); // write data blocks\r\n\t\t\t\t\t\t\t\tdindex += content.length;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tentryHeaders.forEach(function (content) {\r\n\t\t\t\t\t\t\t\tcontent.copy(outBuffer, dindex); // write central directory entries\r\n\t\t\t\t\t\t\t\tdindex += content.length;\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\tvar mh = mainHeader.toBinary();\r\n\t\t\t\t\t\t\tif (_comment) {\r\n\t\t\t\t\t\t\t\t_comment.copy(mh, Utils.Constants.ENDHDR); // add zip file comment\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tmh.copy(outBuffer, dindex); // write main header\r\n\r\n\t\t\t\t\t\t\tonSuccess(outBuffer);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tcompress(entryList);\r\n\t\t}\r\n\t}\r\n};\r\n","var Utils = require(\"./util\");\r\nvar fs = Utils.FileSystem.require(),\r\n\tpth = require(\"path\");\r\n\r\nfs.existsSync = fs.existsSync || pth.existsSync;\r\n\r\nvar ZipEntry = require(\"./zipEntry\"),\r\n\tZipFile = require(\"./zipFile\");\r\n\r\nvar isWin = /^win/.test(process.platform);\r\n\r\n\r\nmodule.exports = function (/*String*/input) {\r\n\tvar _zip = undefined,\r\n\t\t_filename = \"\";\r\n\r\n\tif (input && typeof input === \"string\") { // load zip file\r\n\t\tif (fs.existsSync(input)) {\r\n\t\t\t_filename = input;\r\n\t\t\t_zip = new ZipFile(input, Utils.Constants.FILE);\r\n\t\t} else {\r\n\t\t\tthrow Utils.Errors.INVALID_FILENAME;\r\n\t\t}\r\n\t} else if (input && Buffer.isBuffer(input)) { // load buffer\r\n\t\t_zip = new ZipFile(input, Utils.Constants.BUFFER);\r\n\t} else { // create new zip file\r\n\t\t_zip = new ZipFile(null, Utils.Constants.NONE);\r\n\t}\r\n\r\n\tfunction sanitize(prefix, name) {\r\n\t\tprefix = pth.resolve(pth.normalize(prefix));\r\n\t\tvar parts = name.split('/');\r\n\t\tfor (var i = 0, l = parts.length; i < l; i++) {\r\n\t\t\tvar path = pth.normalize(pth.join(prefix, parts.slice(i, l).join(pth.sep)));\r\n\t\t\tif (path.indexOf(prefix) === 0) {\r\n\t\t\t\treturn path;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn pth.normalize(pth.join(prefix, pth.basename(name)));\r\n\t}\r\n\r\n\tfunction getEntry(/*Object*/entry) {\r\n\t\tif (entry && _zip) {\r\n\t\t\tvar item;\r\n\t\t\t// If entry was given as a file name\r\n\t\t\tif (typeof entry === \"string\")\r\n\t\t\t\titem = _zip.getEntry(entry);\r\n\t\t\t// if entry was given as a ZipEntry object\r\n\t\t\tif (typeof entry === \"object\" && typeof entry.entryName !== \"undefined\" && typeof entry.header !== \"undefined\")\r\n\t\t\t\titem = _zip.getEntry(entry.entryName);\r\n\r\n\t\t\tif (item) {\r\n\t\t\t\treturn item;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn {\r\n\t\t/**\r\n\t\t * Extracts the given entry from the archive and returns the content as a Buffer object\r\n\t\t * @param entry ZipEntry object or String with the full path of the entry\r\n\t\t *\r\n\t\t * @return Buffer or Null in case of error\r\n\t\t */\r\n\t\treadFile: function (/*Object*/entry) {\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\treturn item && item.getData() || null;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Asynchronous readFile\r\n\t\t * @param entry ZipEntry object or String with the full path of the entry\r\n\t\t * @param callback\r\n\t\t *\r\n\t\t * @return Buffer or Null in case of error\r\n\t\t */\r\n\t\treadFileAsync: function (/*Object*/entry, /*Function*/callback) {\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\tif (item) {\r\n\t\t\t\titem.getDataAsync(callback);\r\n\t\t\t} else {\r\n\t\t\t\tcallback(null, \"getEntry failed for:\" + entry)\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Extracts the given entry from the archive and returns the content as plain text in the given encoding\r\n\t\t * @param entry ZipEntry object or String with the full path of the entry\r\n\t\t * @param encoding Optional. If no encoding is specified utf8 is used\r\n\t\t *\r\n\t\t * @return String\r\n\t\t */\r\n\t\treadAsText: function (/*Object*/entry, /*String - Optional*/encoding) {\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\tif (item) {\r\n\t\t\t\tvar data = item.getData();\r\n\t\t\t\tif (data && data.length) {\r\n\t\t\t\t\treturn data.toString(encoding || \"utf8\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Asynchronous readAsText\r\n\t\t * @param entry ZipEntry object or String with the full path of the entry\r\n\t\t * @param callback\r\n\t\t * @param encoding Optional. If no encoding is specified utf8 is used\r\n\t\t *\r\n\t\t * @return String\r\n\t\t */\r\n\t\treadAsTextAsync: function (/*Object*/entry, /*Function*/callback, /*String - Optional*/encoding) {\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\tif (item) {\r\n\t\t\t\titem.getDataAsync(function (data, err) {\r\n\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\tcallback(data, err);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (data && data.length) {\r\n\t\t\t\t\t\tcallback(data.toString(encoding || \"utf8\"));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcallback(\"\");\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tcallback(\"\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Remove the entry from the file or the entry and all it's nested directories and files if the given entry is a directory\r\n\t\t *\r\n\t\t * @param entry\r\n\t\t */\r\n\t\tdeleteFile: function (/*Object*/entry) { // @TODO: test deleteFile\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\tif (item) {\r\n\t\t\t\t_zip.deleteEntry(item.entryName);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Adds a comment to the zip. The zip must be rewritten after adding the comment.\r\n\t\t *\r\n\t\t * @param comment\r\n\t\t */\r\n\t\taddZipComment: function (/*String*/comment) { // @TODO: test addZipComment\r\n\t\t\t_zip.comment = comment;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns the zip comment\r\n\t\t *\r\n\t\t * @return String\r\n\t\t */\r\n\t\tgetZipComment: function () {\r\n\t\t\treturn _zip.comment || '';\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Adds a comment to a specified zipEntry. The zip must be rewritten after adding the comment\r\n\t\t * The comment cannot exceed 65535 characters in length\r\n\t\t *\r\n\t\t * @param entry\r\n\t\t * @param comment\r\n\t\t */\r\n\t\taddZipEntryComment: function (/*Object*/entry, /*String*/comment) {\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\tif (item) {\r\n\t\t\t\titem.comment = comment;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns the comment of the specified entry\r\n\t\t *\r\n\t\t * @param entry\r\n\t\t * @return String\r\n\t\t */\r\n\t\tgetZipEntryComment: function (/*Object*/entry) {\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\tif (item) {\r\n\t\t\t\treturn item.comment || '';\r\n\t\t\t}\r\n\t\t\treturn ''\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Updates the content of an existing entry inside the archive. The zip must be rewritten after updating the content\r\n\t\t *\r\n\t\t * @param entry\r\n\t\t * @param content\r\n\t\t */\r\n\t\tupdateFile: function (/*Object*/entry, /*Buffer*/content) {\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\tif (item) {\r\n\t\t\t\titem.setData(content);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Adds a file from the disk to the archive\r\n\t\t *\r\n\t\t * @param localPath File to add to zip\r\n\t\t * @param zipPath Optional path inside the zip\r\n\t\t * @param zipName Optional name for the file\r\n\t\t */\r\n\t\taddLocalFile: function (/*String*/localPath, /*String*/zipPath, /*String*/zipName) {\r\n\t\t\tif (fs.existsSync(localPath)) {\r\n\t\t\t\tif (zipPath) {\r\n\t\t\t\t\tzipPath = zipPath.split(\"\\\\\").join(\"/\");\r\n\t\t\t\t\tif (zipPath.charAt(zipPath.length - 1) !== \"/\") {\r\n\t\t\t\t\t\tzipPath += \"/\";\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tzipPath = \"\";\r\n\t\t\t\t}\r\n\t\t\t\tvar p = localPath.split(\"\\\\\").join(\"/\").split(\"/\").pop();\r\n\r\n\t\t\t\tif (zipName) {\r\n\t\t\t\t\tthis.addFile(zipPath + zipName, fs.readFileSync(localPath), \"\", 0)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.addFile(zipPath + p, fs.readFileSync(localPath), \"\", 0)\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthrow Utils.Errors.FILE_NOT_FOUND.replace(\"%s\", localPath);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Adds a local directory and all its nested files and directories to the archive\r\n\t\t *\r\n\t\t * @param localPath\r\n\t\t * @param zipPath optional path inside zip\r\n\t\t * @param filter optional RegExp or Function if files match will\r\n\t\t *               be included.\r\n\t\t */\r\n\t\taddLocalFolder: function (/*String*/localPath, /*String*/zipPath, /*RegExp|Function*/filter) {\r\n\t\t\tif (filter === undefined) {\r\n\t\t\t\tfilter = function () {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t};\r\n\t\t\t} else if (filter instanceof RegExp) {\r\n\t\t\t\tfilter = function (filter) {\r\n\t\t\t\t\treturn function (filename) {\r\n\t\t\t\t\t\treturn filter.test(filename);\r\n\t\t\t\t\t}\r\n\t\t\t\t}(filter);\r\n\t\t\t}\r\n\r\n\t\t\tif (zipPath) {\r\n\t\t\t\tzipPath = zipPath.split(\"\\\\\").join(\"/\");\r\n\t\t\t\tif (zipPath.charAt(zipPath.length - 1) !== \"/\") {\r\n\t\t\t\t\tzipPath += \"/\";\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tzipPath = \"\";\r\n\t\t\t}\r\n\t\t\t// normalize the path first\r\n\t\t\tlocalPath = pth.normalize(localPath);\r\n\t\t\tlocalPath = localPath.split(\"\\\\\").join(\"/\"); //windows fix\r\n\t\t\tif (localPath.charAt(localPath.length - 1) !== \"/\")\r\n\t\t\t\tlocalPath += \"/\";\r\n\r\n\t\t\tif (fs.existsSync(localPath)) {\r\n\r\n\t\t\t\tvar items = Utils.findFiles(localPath),\r\n\t\t\t\t\tself = this;\r\n\r\n\t\t\t\tif (items.length) {\r\n\t\t\t\t\titems.forEach(function (path) {\r\n\t\t\t\t\t\tvar p = path.split(\"\\\\\").join(\"/\").replace(new RegExp(localPath.replace(/(\\(|\\))/g, '\\\\$1'), 'i'), \"\"); //windows fix\r\n\t\t\t\t\t\tif (filter(p)) {\r\n\t\t\t\t\t\t\tif (p.charAt(p.length - 1) !== \"/\") {\r\n\t\t\t\t\t\t\t\tself.addFile(zipPath + p, fs.readFileSync(path), \"\", 0)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tself.addFile(zipPath + p, Buffer.alloc(0), \"\", 0)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthrow Utils.Errors.FILE_NOT_FOUND.replace(\"%s\", localPath);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Allows you to create a entry (file or directory) in the zip file.\r\n\t\t * If you want to create a directory the entryName must end in / and a null buffer should be provided.\r\n\t\t * Comment and attributes are optional\r\n\t\t *\r\n\t\t * @param entryName\r\n\t\t * @param content\r\n\t\t * @param comment\r\n\t\t * @param attr\r\n\t\t */\r\n\t\taddFile: function (/*String*/entryName, /*Buffer*/content, /*String*/comment, /*Number*/attr) {\r\n\t\t\tvar entry = new ZipEntry();\r\n\t\t\tentry.entryName = entryName;\r\n\t\t\tentry.comment = comment || \"\";\r\n\r\n\t\t\tif (!attr) {\r\n\t\t\t\tif (entry.isDirectory) {\r\n\t\t\t\t\tattr = (0o40755 << 16) | 0x10; // (permissions drwxr-xr-x) + (MS-DOS directory flag)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tattr = 0o644 << 16; // permissions -r-wr--r--\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tentry.attr = attr;\r\n\r\n\t\t\tentry.setData(content);\r\n\t\t\t_zip.setEntry(entry);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns an array of ZipEntry objects representing the files and folders inside the archive\r\n\t\t *\r\n\t\t * @return Array\r\n\t\t */\r\n\t\tgetEntries: function () {\r\n\t\t\tif (_zip) {\r\n\t\t\t\treturn _zip.entries;\r\n\t\t\t} else {\r\n\t\t\t\treturn [];\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns a ZipEntry object representing the file or folder specified by ``name``.\r\n\t\t *\r\n\t\t * @param name\r\n\t\t * @return ZipEntry\r\n\t\t */\r\n\t\tgetEntry: function (/*String*/name) {\r\n\t\t\treturn getEntry(name);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Extracts the given entry to the given targetPath\r\n\t\t * If the entry is a directory inside the archive, the entire directory and it's subdirectories will be extracted\r\n\t\t *\r\n\t\t * @param entry ZipEntry object or String with the full path of the entry\r\n\t\t * @param targetPath Target folder where to write the file\r\n\t\t * @param maintainEntryPath If maintainEntryPath is true and the entry is inside a folder, the entry folder\r\n\t\t *                          will be created in targetPath as well. Default is TRUE\r\n\t\t * @param overwrite If the file already exists at the target path, the file will be overwriten if this is true.\r\n\t\t *                  Default is FALSE\r\n\t\t *\r\n\t\t * @return Boolean\r\n\t\t */\r\n\t\textractEntryTo: function (/*Object*/entry, /*String*/targetPath, /*Boolean*/maintainEntryPath, /*Boolean*/overwrite) {\r\n\t\t\toverwrite = overwrite || false;\r\n\t\t\tmaintainEntryPath = typeof maintainEntryPath === \"undefined\" ? true : maintainEntryPath;\r\n\r\n\t\t\tvar item = getEntry(entry);\r\n\t\t\tif (!item) {\r\n\t\t\t\tthrow Utils.Errors.NO_ENTRY;\r\n\t\t\t}\r\n\r\n\t\t\tvar entryName = item.entryName;\r\n\r\n\t\t\tvar target = sanitize(targetPath, maintainEntryPath ? entryName : pth.basename(entryName));\r\n\r\n\t\t\tif (item.isDirectory) {\r\n\t\t\t\ttarget = pth.resolve(target, \"..\");\r\n\t\t\t\tvar children = _zip.getEntryChildren(item);\r\n\t\t\t\tchildren.forEach(function (child) {\r\n\t\t\t\t\tif (child.isDirectory) return;\r\n\t\t\t\t\tvar content = child.getData();\r\n\t\t\t\t\tif (!content) {\r\n\t\t\t\t\t\tthrow Utils.Errors.CANT_EXTRACT_FILE;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar childName = sanitize(targetPath, maintainEntryPath ? child.entryName : pth.basename(child.entryName));\r\n\r\n\t\t\t\t\tUtils.writeFileTo(childName, content, overwrite);\r\n\t\t\t\t});\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tvar content = item.getData();\r\n\t\t\tif (!content) throw Utils.Errors.CANT_EXTRACT_FILE;\r\n\r\n\t\t\tif (fs.existsSync(target) && !overwrite) {\r\n\t\t\t\tthrow Utils.Errors.CANT_OVERRIDE;\r\n\t\t\t}\r\n\t\t\tUtils.writeFileTo(target, content, overwrite);\r\n\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Test the archive\r\n\t\t *\r\n\t\t */\r\n\t\ttest: function () {\r\n\t\t\tif (!_zip) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var entry in _zip.entries) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (entry.isDirectory) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar content = _zip.entries[entry].getData();\r\n\t\t\t\t\tif (!content) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Extracts the entire archive to the given location\r\n\t\t *\r\n\t\t * @param targetPath Target location\r\n\t\t * @param overwrite If the file already exists at the target path, the file will be overwriten if this is true.\r\n\t\t *                  Default is FALSE\r\n\t\t */\r\n\t\textractAllTo: function (/*String*/targetPath, /*Boolean*/overwrite) {\r\n\t\t\toverwrite = overwrite || false;\r\n\t\t\tif (!_zip) {\r\n\t\t\t\tthrow Utils.Errors.NO_ZIP;\r\n\t\t\t}\r\n\t\t\t_zip.entries.forEach(function (entry) {\r\n\t\t\t\tvar entryName = sanitize(targetPath, entry.entryName.toString());\r\n\t\t\t\tif (entry.isDirectory) {\r\n\t\t\t\t\tUtils.makeDir(entryName);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar content = entry.getData();\r\n\t\t\t\tif (!content) {\r\n\t\t\t\t\tthrow Utils.Errors.CANT_EXTRACT_FILE;\r\n\t\t\t\t}\r\n\t\t\t\tUtils.writeFileTo(entryName, content, overwrite);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfs.utimesSync(entryName, entry.header.time, entry.header.time)\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tthrow Utils.Errors.CANT_EXTRACT_FILE;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Asynchronous extractAllTo\r\n\t\t *\r\n\t\t * @param targetPath Target location\r\n\t\t * @param overwrite If the file already exists at the target path, the file will be overwriten if this is true.\r\n\t\t *                  Default is FALSE\r\n\t\t * @param callback\r\n\t\t */\r\n\t\textractAllToAsync: function (/*String*/targetPath, /*Boolean*/overwrite, /*Function*/callback) {\r\n\t\t\tif (!callback) {\r\n\t\t\t\tcallback = function() {}\r\n\t\t\t}\r\n\t\t\toverwrite = overwrite || false;\r\n\t\t\tif (!_zip) {\r\n\t\t\t\tcallback(new Error(Utils.Errors.NO_ZIP));\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar entries = _zip.entries;\r\n\t\t\tvar i = entries.length;\r\n\t\t\tentries.forEach(function (entry) {\r\n\t\t\t\tif (i <= 0) return; // Had an error already\r\n\r\n\t\t\t\tvar entryName = pth.normalize(entry.entryName.toString());\r\n\r\n\t\t\t\tif (entry.isDirectory) {\r\n\t\t\t\t\tUtils.makeDir(sanitize(targetPath, entryName));\r\n\t\t\t\t\tif (--i === 0)\r\n\t\t\t\t\t\tcallback(undefined);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tentry.getDataAsync(function (content, err) {\r\n\t\t\t\t\tif (i <= 0) return;\r\n\t\t\t\t\tif (err) {\r\n\t\t\t\t\t\tcallback(new Error(err));\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!content) {\r\n\t\t\t\t\t\ti = 0;\r\n\t\t\t\t\t\tcallback(new Error(Utils.Errors.CANT_EXTRACT_FILE));\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tUtils.writeFileToAsync(sanitize(targetPath, entryName), content, overwrite, function (succ) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tfs.utimesSync(pth.resolve(targetPath, entryName), entry.header.time, entry.header.time);\r\n\t\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\t\tcallback(new Error('Unable to set utimes'));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (i <= 0) return;\r\n\t\t\t\t\t\tif (!succ) {\r\n\t\t\t\t\t\t\ti = 0;\r\n\t\t\t\t\t\t\tcallback(new Error('Unable to write'));\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (--i === 0)\r\n\t\t\t\t\t\t\tcallback(undefined);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Writes the newly created zip file to disk at the specified location or if a zip was opened and no ``targetFileName`` is provided, it will overwrite the opened zip\r\n\t\t *\r\n\t\t * @param targetFileName\r\n\t\t * @param callback\r\n\t\t */\r\n\t\twriteZip: function (/*String*/targetFileName, /*Function*/callback) {\r\n\t\t\tif (arguments.length === 1) {\r\n\t\t\t\tif (typeof targetFileName === \"function\") {\r\n\t\t\t\t\tcallback = targetFileName;\r\n\t\t\t\t\ttargetFileName = \"\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!targetFileName && _filename) {\r\n\t\t\t\ttargetFileName = _filename;\r\n\t\t\t}\r\n\t\t\tif (!targetFileName) return;\r\n\r\n\t\t\tvar zipData = _zip.compressToBuffer();\r\n\t\t\tif (zipData) {\r\n\t\t\t\tvar ok = Utils.writeFileTo(targetFileName, zipData, true);\r\n\t\t\t\tif (typeof callback === 'function') callback(!ok ? new Error(\"failed\") : null, \"\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Returns the content of the entire zip file as a Buffer object\r\n\t\t *\r\n\t\t * @return Buffer\r\n\t\t */\r\n\t\ttoBuffer: function (/*Function*/onSuccess, /*Function*/onFail, /*Function*/onItemStart, /*Function*/onItemEnd) {\r\n\t\t\tthis.valueOf = 2;\r\n\t\t\tif (typeof onSuccess === \"function\") {\r\n\t\t\t\t_zip.toAsyncBuffer(onSuccess, onFail, onItemStart, onItemEnd);\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\treturn _zip.compressToBuffer()\r\n\t\t}\r\n\t}\r\n};\r\n","// comment lines 2-5 out when building the parcel package. Then copy-paste the lines into the beginning of the distribution package\r\n// const Max = require('max-api')\r\n// const path = require('path')\r\n// const fs = require('fs')\r\n// var exec = require('child_process')\r\n// external node packages need to be compiled into a single file using parcel\r\nconst dmg = require('dmg')\r\nconst uuidv1 = require('uuid/v1')\r\nconst axios = require('axios')\r\nconst AdmZip = require('adm-zip')\r\n\r\n// required info\r\nconst os = require('os').platform() // darwin | win32\r\nlet debug = true\r\nlet log = (output) => { if (debug) Max.post(output) }\r\nlet defaultSystem = {\r\n  \"uName\": null, \"os\": \"Windows\", \"autoUpdate\": null, \"vidFPS\": 2, \"recFPS\": 1,\r\n  \"appState\": { \"major\": null, \"minor\": null, \"revision\": null, \"state\": null },\r\n  \"io\": { \"driver\": null, \"in\": null, \"out\": null, \"sampleRate\": null, \"ioVector\": null, \"sigVector\": null },\r\n  \"defaultSettings\": { \"dac\": 1, \"limiter\": 1, \"volume\": 127, \"fullScreen\": 1, \"metroTog\": 1, \"bpm\": 120, \"showBoards\": 1, \"initEvent\": 0, \"keyboardMIDI\": false, \"keyOctave\": 4, \"recType\": 0, \"vWidth\": 320, \"vHeight\": 320, \"vChan\": 1 }\r\n}\r\nlet state = {\r\n  system: defaultSystem,\r\n  project: {\r\n    \"title\": null, \"created\": null, \"lastOpened\": null, \"lastUpdated\" : null, \"path\": null, \"settings\": {}, \"openBoards\": [], \"savedBoards\": [],\r\n    \"systemBoard\": {\"metroSettings\": {\"bpm\": 120,\"bpMeasure\": 4,\"tick\": 0,\"customDiv\": 5}, \"virtualControllers\": {\"keyboard\": 0,\"slider\": 0,\"pads\": 0}}\r\n  }\r\n}\r\nlet session = { \"sessionBoards\": [], \"boardPointers\": {} }\r\n\r\n// collection of Max handlers - messages from Max that run functions\r\nMax.addHandler(\"add\", (type, v, v2) => {add(type, v, v2)})\r\nMax.addHandler(\"remove\", (type, v, v2) => {remove(type, v, v2)})\r\nMax.addHandler(\"update\", (type, v, v2, v3, v4, v5) => {update(type, v, v2, v3, v4, v5)})\r\nMax.addHandler(\"copy\", (loc, val, dest, dest2) => {copy(loc, val, dest, dest2)})\r\nMax.addHandler(\"get\", (type, v, v2) => {getFromMax(type, v, v2)})\r\nMax.addHandler(\"import\", (type, path) => {importer(type, path)})\r\nMax.addHandler(\"export\", (type, v1, v2) => {exporter(type, v1, v2)})\r\nMax.addHandler(\"newProject\", (title, path) => {newProject(title, path)})\r\nMax.addHandler(\"loadProject\", (path) => { loadProject(path);});\r\nMax.addHandler(\"projectOut\", () => { // send project dict to dict viewer patch\r\n  [\"sendTo MSDP_View_Dict_State\", \"sendGate 1\", JSON.stringify(state, null, 4), \"sendGate 0\" ].map(Max.outlet);\r\n});\r\nMax.addHandler(\"sessionOut\", () => { // send session dict to dict viewer patch\r\n  [\"sendTo MSDP_View_Dict_Session\", \"sendGate 1\", JSON.stringify(session, null, 4), \"sendGate 0\" ].map(Max.outlet);\r\n});\r\nMax.addHandler(\"debug\", (v) => {debug = v; Max.post(`debug mode ${v}`)});\r\nMax.addHandler(\"updateCheck\", (path) => { updateCheck(path) })\r\nMax.addHandler(\"updateDL\", (dlpath) => { updateDL(dlpath) })\r\nMax.addHandler(\"startUpdate\", (dlpath) => { startUpdate(dlpath) })\r\n\r\n// begin function definitions\r\nconst updateCheck = (path) => { // updater code goes here\r\n  log(`The parent process is pid ${process.ppid}`)\r\n  try {\r\n    let dlpath = path\r\n    log('download path is ' + dlpath)\r\n    let localVersion = JSON.stringify(state.system.appState.major) + '.' + JSON.stringify(state.system.appState.minor) + '.' + JSON.stringify(state.system.appState.revision)\r\n    log('this is version ' + localVersion)\r\n    const updateSet = state.system.autoUpdate\r\n    const updater = async _ => {\r\n      const res = await axios.get('https://musicsdp.com/download/music_sdp.hash')\r\n      const hash = res.data.toString().trim()\r\n      if (! ( hash === localVersion )) {\r\n        log(\"update found\")\r\n        if ( updateSet === 1 ) {\r\n          updateDL(dlpath)\r\n        }\r\n        else {\r\n          log('auto-download off')\r\n          [\"sendTo MSDP_Updater_Request\", \"sendGate 1\", \"bang\", \"sendGate 0\" ].map(Max.outlet)   // send command back to MSDP to initialize update request\r\n        }\r\n      }\r\n      else { log('program is already up-to-date') }\r\n    }\r\n    log(\"checking for update\")\r\n    updater()\r\n  }\r\n  catch(error) { log(error) }\r\n}\r\n\r\nconst updateDL = (dlpath) => {\r\n  const requestInstall = () => {\r\n    [\"sendTo MSDP_Install_Request\", \"sendGate 1\", \"bang\", \"sendGate 0\" ].map(Max.outlet)   // send command back to MSDP to initialize update request\r\n  }\r\n  const downloader = async _ => {\r\n    const res = await axios.get(`https://musicsdp.com/download/music_sdp.${os}.zip`, {responseType: 'arraybuffer'})\r\n    new AdmZip(res.data).extractAllTo(dlpath, true)\r\n    requestInstall()\r\n    log('installer downloaded')\r\n  }\r\n  downloader()\r\n}\r\n\r\nconst startUpdate = (dlpath) => {\r\n  function resolveAfter5Seconds() {\r\n  return new Promise(resolve => {\r\n    setTimeout(() => {\r\n      resolve(killApplication());\r\n    }, 5000);\r\n  });\r\n}\r\n  const killApplication = () => {\r\n    [\"sendTo MSDP_Application_Kill\", \"sendGate 1\", \"bang\", \"sendGate 0\" ].map(Max.outlet)   // send command to kill application\r\n  }\r\n  const updateLauncher = async _ => {\r\n    let installerName\r\n    if (os == 'darwin') { installerName = `${dlpath}/Install_Music_SDP.dmg` } else { installerName = `${dlpath}/InstallerDemo.exe` }\r\n    log(installerName)\r\n    if (os == 'darwin') {   // to open & mount the dmg\r\n      dmg.mount(installerName, function(err, path) {\r\n        log(fs.readdirSync(path));\r\n      });\r\n    }\r\n    else {\r\n      exec.exec(installerName)\r\n    }\r\n    await resolveAfter5Seconds()\r\n  }\r\n  updateLauncher()\r\n}\r\n\r\nconst newProject = (title, path) => { // blank out project and session dictionaries to begin new project\r\n  try {\r\n    state.project.title = title;\r\n    state.project.created = new Date();\r\n    state.project.settings = state.system.defaultSettings;\r\n    state.project.openBoards = state.project.savedBoards = session.sessionBoards = [];\r\n    session.boardPointers = {};\r\n    exporter('project', path);\r\n    getFromMax(\"pSettings\");\r\n    [\"sendTo MSDP_newboard_load\", \"sendGate 1\", \"bang\", \"sendGate 0\" ].map(Max.outlet);\r\n    [\"sendTo MSDP_System_Board_Audio_Path\", 'sendGate 1', 'bang', 'sendGate 0'].map(Max.outlet);\r\n  }\r\n  catch(error) { log(error) }\r\n}\r\nconst loadProject = (path) => { // load the project state\r\n  try {\r\n    importer(\"project\", path)\r\n    getFromMax(\"pSettings\")\r\n    getFromMax(\"list\", \"savedBoards\")\r\n    getFromMax(\"list\", \"openBoards\"); // for some reason, removing the semi-colon here breaks everything!\r\n    ['sendTo MSDP_System_Board_Audio_Path', 'sendGate 1', 'bang', 'sendGate 0'].map(Max.outlet)\r\n  }\r\n  catch(error) { log(error) }\r\n}\r\nconst add = (type, v, v2) => { // named boards, modules, assets\r\n  try {\r\n    var rand = bigRandStr();\r\n    if (type === 'board') {\r\n      let proto = v;\r\n      if (v === 'undefined') v = 'Board_' + bigRandStr()\r\n      if (session.boardPointers.hasOwnProperty(v) === true) v =+ bigRandStr()\r\n      session.sessionBoards.push({ \"title\": v, \"position\": null, \"power\": 1, 'saved': 0, \"modules\": [] })\r\n      session.boardPointers[v] = {'index': session.sessionBoards.length-1, 'proto': proto, \"open\": 1, 'modules': {}}\r\n      return(v)\r\n    }\r\n    else if (type === 'module') {\r\n      i = session.boardPointers[v].index\r\n      session.sessionBoards[i].modules.push({ \"location\": \"1 1\", \"process\": \"Choose One\", \"id\": v2, \"parameters\": {}})\r\n      session.boardPointers[v].modules[v2] = {'index': session.sessionBoards[i].modules.length-1, 'open': 1, 'id': v2}\r\n    }\r\n    else if (type === 'asset') {\r\n      state.project.assets[v].push(v2)\r\n      log(` ${v2} added to the ${v} list`)\r\n    }\r\n  }\r\n  catch(error) { log(error) }\r\n}\r\n\r\nconst remove = (type, v, v2) => { // named boards, modules, assets\r\n  if (type === 'savedBoard') {\r\n    for (b in state.project.savedBoards) {\r\n      if(state.project.savedBoards[b].title === v) {\r\n        state.project.savedBoards.splice(b, 1)\r\n        log(`board ${v} removed from saved board list`)\r\n        return\r\n      }\r\n    }\r\n    log(`board ${v} not found in saved board list`)\r\n  }\r\n  else if (type === 'openBoard') session.boardPointers[v].open = 0\r\n  else if (type === 'module') session.boardPointers[v]['modules'][v2].open = 0\r\n  else if (type === 'asset') { // remove an asset from the asset list\r\n      for (a in state.project.assets[v]) {\r\n        if(state.project.assets[v][a] === v2) {\r\n          state.project.assets[v].splice(a, 1)\r\n          log(`${v2} at ${v} removed`)\r\n          return\r\n        }\r\n      }\r\n      log(`${asset} in ${type} not found`)\r\n  }\r\n}\r\n\r\nconst update = (type, v, v2, v3, v4, v5) => { // system, project,board, module.\r\n  try {\r\n    if (type === 'value'){\r\n      typeof v2 === 'number' ? e = 'state' + '.' + v + ' = ' + v2 + ';' : e = 'state' + '.' + v + ' = \"' + v2 + '\";'\r\n      log(`update: ${e}`)\r\n      eval(e)\r\n    }\r\n    else if (type === 'board') { //update board value other than modules\r\n      let i = session.boardPointers[v].index\r\n      if(v2 === 'title'){\r\n        if(session.boardPointers.hasOwnProperty(v3) === true) v3 =+ '_' + bigRandStr()\r\n        Object.defineProperty(session.boardPointers, v3, Object.getOwnPropertyDescriptor(session.boardPointers, v))\r\n        delete session.boardPointers[v]\r\n        session.boardPointers[v3].proto = v3\r\n      }\r\n      session.sessionBoards[i][v2] = v3;\r\n      log(`board ${v} ${v2} set to ${v3}`);\r\n    }\r\n    else if (type === 'module'){ //update a module on a board\r\n      let i = session.boardPointers[v]['index'];\r\n      let i2 = session.boardPointers[v]['modules'][v2]['index'];\r\n      if (v3 === 'id') session.boardPointers[v]['modules'][v2]['id'] = v4\r\n      session.sessionBoards[i].modules[i2][v3] = v4\r\n      log(`module ${v2} on board ${v} value ${v3} set to ${v4}`)\r\n    }\r\n    else if (type === 'parameter'){ // update a parameter in a module on a board\r\n      var i = session.boardPointers[v]['index']\r\n      var i2 = session.boardPointers[v]['modules'][v2]['index']\r\n      session.sessionBoards[i]['modules'][i2]['parameters'][v3] = v4\r\n    }\r\n  }\r\n  catch(error) {\r\n    log(error)\r\n  }\r\n}\r\n\r\nconst copy = (loc, val, dest, dest2) => { // session to open, session to saved, open to session, saved to session\r\n  try {\r\n    if (loc === 'session') {\r\n      let index = session.boardPointers[val].index\r\n      let proto = session.boardPointers[val].proto\r\n      let clone = JSON.parse(JSON.stringify(session.sessionBoards[index]))\r\n      clone.title = proto\r\n      let removeList = []\r\n      for (let m in session.boardPointers[val]['modules']) if (session.boardPointers[val]['modules'][m]['open'] === 0) removeList.push(session.boardPointers[val]['modules'][m]['index'])\r\n      removeList.sort(function(a, b){return b-a});\r\n      for (let n in removeList) clone['modules'].splice(removeList[n], 1)\r\n      if (dest === 'open') {\r\n        if (proto != val) {\r\n          if (session.boardPointers.hasOwnProperty(proto) === true) {\r\n            if(session.boardPointers[proto].open === 1) clone.title = val\r\n          }\r\n        }\r\n        state.project.openBoards.push(clone)\r\n      }\r\n      else if (dest === 'saved') {\r\n        session.sessionBoards[index].saved = 1;\r\n        clone.saved = 1;\r\n          for (var c in state.project.savedBoards) {\r\n            if(state.project.savedBoards[c]['title'] === proto) {\r\n              log(`Board ${proto} updated`)\r\n              state.project.savedBoards.splice(c, 1, clone)\r\n              return\r\n            }\r\n          }\r\n        log(`Board ${val} added to saved list`)\r\n        state.project.savedBoards.push(clone)\r\n        }\r\n    }\r\n    else if (loc === 'saved') {\r\n      let clone\r\n      let cloneModules = {}\r\n      for (b in state.project.savedBoards){\r\n        if(state.project.savedBoards[b]['title'] === val) {\r\n          clone = state.project.savedBoards[b]\r\n          for (var m in clone.modules){\r\n            let modName = clone.modules[m].id\r\n            cloneModules[modName] = { 'index': m,'open': 1 }\r\n          }\r\n        }\r\n      }\r\n      if (session.boardPointers.hasOwnProperty(val) === true) clone.title =+ bigRandStr()\r\n      session.boardPointers[clone.title] = {'index': session.sessionBoards.length, 'proto': val, \"open\": 1, 'modules': cloneModules}\r\n      session.sessionBoards.push(clone)\r\n      log(`Board ${clone.title} added to session`);\r\n    }\r\n    else if (loc === 'open') { // copy saved open board into session\r\n      let clone\r\n      let cloneModules = {}\r\n      for (b in state.project.openBoards){\r\n        if (state.project.openBoards[b].title === val) {\r\n          clone = state.project.openBoards[b]\r\n          for (let m in clone.modules){\r\n            let modName = clone.modules[m].id;\r\n            cloneModules[modName] = {'index': m,'open': 1}\r\n          }\r\n        }\r\n      }\r\n      if (session.boardPointers.hasOwnProperty(val) === true) clone.title =+ bigRandStr()\r\n      session.boardPointers[clone.title] = {'index': session.sessionBoards.length, 'proto': val, \"open\": 1, 'modules': cloneModules}\r\n      session.sessionBoards.push(clone)\r\n      log(`Board ${clone.title} added to session`)\r\n    }\r\n  }\r\n  catch(error) {\r\n    log(error)\r\n  }\r\n}\r\n\r\nconst getFromMax = (type, v, v2) => { // data from state to max\r\n  try {\r\n    if (type === 'path'){ // get the project path\r\n        let p = state.project.path\r\n        p = p.substring(0, p.lastIndexOf(\"/\"))\r\n        Max.outlet (\"sendTo MDSP_Backup_pPath\"); Max.outlet (\"sendGate 1\"); Max.outlet (p); Max.outlet (\"sendGate 0\"); // .map added index number and dictionary after. Discuss with Dirk\r\n    }\r\n    else if (type === 'system') [\"sendTo MSDP_System_Settings_Set\", \"sendGate 1\", JSON.stringify(state.system, null, 4), \"sendGate 0\" ].map(Max.outlet)\r\n    else if ( type === 'pSettings') [\"sendTo MSDP_Project_Settings_Set\", \"sendGate 1\", JSON.stringify(state.project.settings, null, 4), \"sendGate 0\", \"sendTo MSDP_Metro_Settings_Set\", \"sendGate 1\", JSON.stringify(state.project.systemBoard, null, 4), \"sendGate 0\" ].map(Max.outlet)\r\n    else if ( type === 'pSysBoard'){\r\n      if (v === \"virtual\") [\"sendTo MSDP_Virtual_Settings_Set\", \"sendGate 1\", JSON.stringify(state.project.systemBoard, null, 4), \"sendGate 0\" ].map(Max.outlet)\r\n    }\r\n    else if (type === 'list'){ // determine whether asking for a list of boards or modules off a board\r\n      if (v === 'savedBoards') {\r\n        if (v2 === \"meta\") Max.outlet(\"sendTo MSDP_Saved_Boards_List_Meta\")\r\n        else if (v2 === \"deleted\") Max.outlet(\"sendTo MSDP_Deleted_Boards_List\")\r\n        else Max.outlet(\"sendTo MSDP_Saved_Boards_List\")\r\n        Max.outlet(\"sendGate 1\")\r\n        for (b in state.project.savedBoards) {\r\n          let savedBoardList = []\r\n          savedBoardList.push(state.project.savedBoards[b].title)\r\n          Max.outlet(savedBoardList)\r\n        }\r\n        Max.outlet(\"sendGate 0\")\r\n      }\r\n      else if (v === 'openBoards') {\r\n        [\"sendTo MSDP_Open_Board_List_Load\", \"sendGate 1\"].map(Max.outlet)\r\n        for (b in state.project.openBoards){\r\n          let openBoardList = []\r\n          openBoardList.push(state.project.openBoards[b]['title'])\r\n          Max.outlet(openBoardList)\r\n        }\r\n        Max.outlet (\"sendGate 0\")\r\n      }\r\n    }\r\n    else if (type === 'board'){\r\n      let path\r\n      let title = v2\r\n      if (v === 'open') path = state.project.openBoards\r\n      else if (v === 'saved') {\r\n          path = state.project.savedBoards\r\n          title = add(\"board\", v2)\r\n      }\r\n      for (b in path) {\r\n        if (path[b]['title'] === v2){\r\n          [\"sendTo \" + v2, \"sendGate 1\", \"title \" + title, JSON.stringify(path[b], null, 4), \"sendGate 0\" ].map(Max.outlet)\r\n          return\r\n        }\r\n      }\r\n      log(`${v2} not found`);\r\n    }\r\n  }\r\n  catch(error) {\r\n    log(error)\r\n  }\r\n}\r\n\r\nconst exporter = (type, v1, v2) => { // system, project, backup, analytics\r\n  // try {\r\n    let path, output\r\n    if (type === 'home') { //send all information out\r\n      Max.outlet (\"uname \" + JSON.stringify(state.system.uName, null, 4))\r\n      state.project.openBoards = []\r\n      for (let key in session.boardPointers) {\r\n        if (session.boardPointers.hasOwnProperty(key)) if (session.boardPointers[key]['open'] === 1) if (isEmpty(session.boardPointers[key].modules) === false ) copy('session', key, 'open')\r\n      }\r\n      state.project.lastUpdated = new Date()\r\n      // Max.outlet (\"stateOut \" + JSON.stringify(state, null, 4))\r\n      Max.outlet('sendTo MSDP_State_Information_Out')\r\n      Max.outlet('sendGate 1')\r\n      Max.outlet(JSON.stringify(state, null, 4))\r\n      Max.outlet('sendGate 0')\r\n      return\r\n    }\r\n    else if (type === 'system') { //export system info\r\n      if (state.system.uName === null){\r\n        state.system.uName = uuidv1()\r\n        Max.outlet (\"uname \" + JSON.stringify(state.system.uName, null, 4))\r\n      }\r\n      path = v1\r\n      output = state.system\r\n    }\r\n    else if (type === 'project') { //export project info\r\n      state.project.openBoards = []\r\n      for (let key in session.boardPointers) {\r\n        if (session.boardPointers.hasOwnProperty(key)) if (session.boardPointers[key].open === 1) if (isEmpty(session.boardPointers[key].modules) === false ) copy('session', key, 'open')\r\n      }\r\n      state.project.lastUpdated = new Date()\r\n      path = v1\r\n      output = state.project\r\n    }\r\n    else if (type === 'board') {\r\n      path = v2\r\n      output = session.sessionBoards[session.boardPointers[v1].index]\r\n      let removeList = []\r\n      for (let m in session.boardPointers[v1].modules) if (session.boardPointers[v1].modules[m].open === 0) removeList.push(session.boardPointers[v1].modules[m].index)\r\n      removeList.sort(function(a, b){return b-a})\r\n      for (let n in removeList) mode['modules'].splice(n+1, 1)\r\n    }\r\n    fs.writeFileSync(path+\".temp\", JSON.stringify(output, null, 4))\r\n    let fileCheck = fs.existsSync(path)\r\n    if (fileCheck == 1) fs.unlinkSync(path)\r\n    fs.renameSync(path+\".temp\", path)\r\n    log(`JSON write ${path}`)\r\n  // }\r\n  // catch(error){ log(error) }\r\n}\r\n\r\nconst importer = (type, path) => { // system, project, backup\r\n  try {\r\n    let clone = require(path) // should check if exists, if not, make\r\n    log(`JSON read ${path}`)\r\n    if (type === 'system'){\r\n      if (fs.existsSync(path)) {\r\n        state.system = clone\r\n        if (state.system.appState.major === 1 ) {\r\n          let uName = state.system.uName\r\n          state.system = defaultSystem\r\n          state.system.uName = uName\r\n          exporter('system', path)\r\n          log('updating from v1 to v2')\r\n        }\r\n        if (state.system.dev === true) {Max.outlet (\"dev 1\")}\r\n        if (state.system.autoUpdate === null) { [\"sendTo MSDP_AutoUpdate_Window_Confirm\", \"sendGate 1\", \"open\", \"sendGate 0\" ].map(Max.outlet) }\r\n        Max.outlet (\"uname \" + JSON.stringify(state.system.uName, null, 4))\r\n        if (typeof state.system.defaultSettings == \"undefined\") {\r\n          state.system.defaultSettings = state.system.settings\r\n          delete state.system.settings\r\n        }\r\n      }\r\n      else { // if not initialized, make system file\r\n        state.system = defaultSystem\r\n        exporter('system', path)\r\n        [\"sendTo MSDP_AutoUpdate_Window_Confirm\", \"sendGate 1\", \"open\", \"sendGate 0\" ].map(Max.outlet)\r\n        log('No sys prefs found. Generating sys prefs file')\r\n      }\r\n    }\r\n    else if (type === 'backup'){ // load a saved project\r\n      session.sessionBoards = [];\r\n      session.boardPointers = {};\r\n      msdp.project = clone;\r\n      log(1, 'last save ' + msdp.project.title + ' loaded');\r\n    }\r\n    else if (type === 'project'){\r\n      session.sessionBoards = [], session.boardPointers = {}\r\n      state.project = clone\r\n      state.project.lastOpened = new Date(), state.project.lastUpdated = new Date()\r\n      log(`project ${state.project.title} loaded`)\r\n    }\r\n    else if (type === 'board'){\r\n      let cloneModules = {}\r\n      for (let m in clone.modules) cloneModules[clone.modules[m].id] = {'index': m,'open': 1}\r\n      if (session.boardPointers.hasOwnProperty(clone.title) === true) clone.title =+ bigRandStr()\r\n      session.boardPointers[clone.title] = {'index': session.sessionBoards.length, 'proto': clone.title, \"open\": 1, 'modules': cloneModules}\r\n      session.sessionBoards.push(clone)\r\n      log(`board ${clone.title} imported into session`)\r\n      getFromMax('board', 'session', clone.title)\r\n    }\r\n    else if (type === 'system') {\r\n      state.system = clone\r\n    \tlog(`JSON Read ${path}`)\r\n    }\r\n  }\r\n  catch(error) { log(error) }\r\n}\r\n\r\nconst bigRandStr = () => Math.floor(Math.random() * 4294967295).toString(16)\r\n\r\nconst isEmpty = (obj) => {\r\n  for (let key in obj) if (obj.hasOwnProperty(key)) return false\r\n  return true\r\n};\r\n"]}